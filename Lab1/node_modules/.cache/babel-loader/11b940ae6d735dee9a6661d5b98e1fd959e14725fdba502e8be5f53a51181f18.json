{"ast":null,"code":"/**\n * Dependencies\n */\n\nvar argsToArray = require('./utils').argsToArray;\nvar isUtil = require('./utils').isUtil;\n/**\n * Extend proto\n */\n\nmodule.exports = function (proto) {\n  // change the specified frame.\n  // See #202.\n  proto.selectFrame = function (frame) {\n    if (typeof frame === 'number') this.sourceFrames = '[' + frame + ']';\n    return this;\n  };\n\n  // define the sub-command to use, http://www.graphicsmagick.org/utilities.html\n  proto.command = proto.subCommand = function subCommand(name) {\n    this._subCommand = name;\n    return this;\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-adjoin\n  proto.adjoin = function adjoin() {\n    return this.out(\"-adjoin\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-affine\n  proto.affine = function affine(matrix) {\n    return this.out(\"-affine\", matrix);\n  };\n  proto.alpha = function alpha(type) {\n    if (!this._options.imageMagick) return new Error('Method -alpha is not supported by GraphicsMagick');\n    return this.out('-alpha', type);\n  };\n\n  /**\n   * Appends images to the list of \"source\" images.\n   *\n   * We may also specify either top-to-bottom or left-to-right\n   * behavior of the appending by passing a boolean argument.\n   *\n   * Examples:\n   *\n   *    img = gm(src);\n   *\n   *    // +append means left-to-right\n   *    img.append(img1, img2)       gm convert src img1 img2 -append\n   *    img.append(img, true)        gm convert src img +append\n   *    img.append(img, false)       gm convert src img -append\n   *    img.append(img)              gm convert src img -append\n   *    img.append(img).append()     gm convert src img -append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).background('#222) gm convert src img -background #222 +append\n   *    img.append([img1,img2...],true)\n    * @param {String} or {Array} [img]\n   * @param {Boolean} [ltr]\n   * @see http://www.graphicsmagick.org/GraphicsMagick.html#details-append\n   */\n\n  proto.append = function append(img, ltr) {\n    if (!this._append) {\n      this._append = [];\n      this.addSrcFormatter(function (src) {\n        this.out(this._append.ltr ? '+append' : '-append');\n        src.push.apply(src, this._append);\n      });\n    }\n    if (0 === arguments.length) {\n      this._append.ltr = false;\n      return this;\n    }\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      switch (isUtil(arg)) {\n        case 'Boolean':\n          this._append.ltr = arg;\n          break;\n        case 'String':\n          this._append.push(arg);\n          break;\n        case 'Array':\n          for (var j = 0, len = arg.length; j < len; j++) {\n            if (isUtil(arg[j]) == 'String') {\n              this._append.push(arg[j]);\n            }\n          }\n          break;\n      }\n    }\n    return this;\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-authenticate\n  proto.authenticate = function authenticate(string) {\n    return this.out(\"-authenticate\", string);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-average\n  proto.average = function average() {\n    return this.out(\"-average\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-backdrop\n  proto.backdrop = function backdrop() {\n    return this.out(\"-backdrop\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-black-threshold\n  proto.blackThreshold = function blackThreshold(red, green, blue, opacity) {\n    return this.out(\"-black-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-blue-primary\n  proto.bluePrimary = function bluePrimary(x, y) {\n    return this.out(\"-blue-primary\", argsToArray(x, y).join(','));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-border\n  proto.border = function border(width, height) {\n    return this.out(\"-border\", width + \"x\" + height);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-bordercolor\n  proto.borderColor = function borderColor(color) {\n    return this.out(\"-bordercolor\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-box\n  proto.box = function box(color) {\n    return this.out(\"-box\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-channel\n  proto.channel = function channel(type) {\n    return this.out(\"-channel\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-chop\n  proto.chop = function chop(w, h, x, y) {\n    return this.in(\"-chop\", w + \"x\" + h + \"+\" + (x || 0) + \"+\" + (y || 0));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-clip\n  proto.clip = function clip() {\n    return this.out(\"-clip\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-coalesce\n  proto.coalesce = function coalesce() {\n    return this.out(\"-coalesce\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorize\n  proto.colorize = function colorize(r, g, b) {\n    return this.out(\"-colorize\", [r, g, b].join(\",\"));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colormap\n  proto.colorMap = function colorMap(type) {\n    return this.out(\"-colormap\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-compose\n  proto.compose = function compose(operator) {\n    return this.out(\"-compose\", operator);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-compress\n  proto.compress = function compress(type) {\n    return this.out(\"-compress\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-kernel\n  proto.convolve = function convolve(kernel) {\n    return this.out(\"-convolve\", kernel);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-create-directories\n  proto.createDirectories = function createDirectories() {\n    return this.out(\"-create-directories\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-deconstruct\n  proto.deconstruct = function deconstruct() {\n    return this.out(\"-deconstruct\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-define\n  proto.define = function define(value) {\n    return this.out(\"-define\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-delay\n  proto.delay = function delay(value) {\n    return this.out(\"-delay\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-displace\n  proto.displace = function displace(horizontalScale, verticalScale) {\n    return this.out(\"-displace\", horizontalScale + 'x' + verticalScale);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-display\n  proto.display = function display(value) {\n    return this.out(\"-display\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dispose\n  proto.dispose = function dispose(method) {\n    return this.out(\"-dispose\", method);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dissolve\n  proto.dissolve = function dissolve(percent) {\n    return this.out(\"-dissolve\", percent + '%');\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-encoding\n  proto.encoding = function encoding(type) {\n    return this.out(\"-encoding\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-endian\n  proto.endian = function endian(type) {\n    return this.out(\"-endian\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-file\n  proto.file = function file(filename) {\n    return this.out(\"-file\", filename);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n  proto.flatten = function flatten() {\n    return this.out(\"-flatten\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-foreground\n  proto.foreground = function foreground(color) {\n    return this.out(\"-foreground\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-frame\n  proto.frame = function frame(width, height, outerBevelWidth, innerBevelWidth) {\n    if (arguments.length == 0) return this.out(\"-frame\");\n    return this.out(\"-frame\", width + 'x' + height + '+' + outerBevelWidth + '+' + innerBevelWidth);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-fuzz\n  proto.fuzz = function fuzz(distance, percent) {\n    return this.out(\"-fuzz\", distance + (percent ? '%' : ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gaussian\n  proto.gaussian = function gaussian(radius, sigma) {\n    return this.out(\"-gaussian\", argsToArray(radius, sigma).join('x'));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-geometry\n  proto.geometry = function geometry(width, height, arg) {\n    // If the first argument is a string, and there is only one argument, this is a custom geometry command.\n    if (arguments.length == 1 && typeof arguments[0] === \"string\") return this.out(\"-geometry\", arguments[0]);\n\n    // Otherwise, return a resizing geometry command with an option alrgument.\n    return this.out(\"-geometry\", width + 'x' + height + (arg || ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-green-primary\n  proto.greenPrimary = function greenPrimary(x, y) {\n    return this.out(\"-green-primary\", x + ',' + y);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-color\n  proto.highlightColor = function highlightColor(color) {\n    return this.out(\"-highlight-color\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-style\n  proto.highlightStyle = function highlightStyle(style) {\n    return this.out(\"-highlight-style\", style);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-iconGeometry\n  proto.iconGeometry = function iconGeometry(geometry) {\n    return this.out(\"-iconGeometry\", geometry);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-intent\n  proto.intent = function intent(type) {\n    return this.out(\"-intent\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-lat\n  proto.lat = function lat(width, height, offset, percent) {\n    return this.out(\"-lat\", width + 'x' + height + offset + (percent ? '%' : ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-level\n  proto.level = function level(blackPoint, gamma, whitePoint, percent) {\n    return this.out(\"-level\", argsToArray(blackPoint, gamma, whitePoint).join(',') + (percent ? '%' : ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-list\n  proto.list = function list(type) {\n    return this.out(\"-list\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-log\n  proto.log = function log(string) {\n    return this.out(\"-log\", string);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-loop\n  proto.loop = function loop(iterations) {\n    return this.out(\"-loop\", iterations);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-map\n  proto.map = function map(filename) {\n    return this.out(\"-map\", filename);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mask\n  proto.mask = function mask(filename) {\n    return this.out(\"-mask\", filename);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-matte\n  proto.matte = function matte() {\n    return this.out(\"-matte\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mattecolor\n  proto.matteColor = function matteColor(color) {\n    return this.out(\"-mattecolor\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-maximum-error\n  proto.maximumError = function maximumError(limit) {\n    return this.out(\"-maximum-error\", limit);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mode\n  proto.mode = function mode(value) {\n    return this.out(\"-mode\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-monitor\n  proto.monitor = function monitor() {\n    return this.out(\"-monitor\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mosaic\n  proto.mosaic = function mosaic() {\n    return this.out(\"-mosaic\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-motion-blur\n  proto.motionBlur = function motionBlur(radius, sigma, angle) {\n    var arg = radius;\n    if (typeof sigma != 'undefined') arg += 'x' + sigma;\n    if (typeof angle != 'undefined') arg += '+' + angle;\n    return this.out(\"-motion-blur\", arg);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-name\n  proto.name = function name() {\n    return this.out(\"-name\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-noop\n  proto.noop = function noop() {\n    return this.out(\"-noop\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-normalize\n  proto.normalize = function normalize() {\n    return this.out(\"-normalize\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-opaque\n  proto.opaque = function opaque(color) {\n    return this.out(\"-opaque\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-operator\n  proto.operator = function operator(channel, operator, rvalue, percent) {\n    return this.out(\"-operator\", channel, operator, rvalue + (percent ? '%' : ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-ordered-dither\n  proto.orderedDither = function orderedDither(channeltype, NxN) {\n    return this.out(\"-ordered-dither\", channeltype, NxN);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-output-directory\n  proto.outputDirectory = function outputDirectory(directory) {\n    return this.out(\"-output-directory\", directory);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-page\n  proto.page = function page(width, height, arg) {\n    return this.out(\"-page\", width + 'x' + height + (arg || ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pause\n  proto.pause = function pause(seconds) {\n    return this.out(\"-pause\", seconds);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pen\n  proto.pen = function pen(color) {\n    return this.out(\"-pen\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-ping\n  proto.ping = function ping() {\n    return this.out(\"-ping\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pointsize\n  proto.pointSize = function pointSize(value) {\n    return this.out(\"-pointsize\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-preview\n  proto.preview = function preview(type) {\n    return this.out(\"-preview\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-process\n  proto.process = function process(command) {\n    return this.out(\"-process\", command);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n  proto.profile = function profile(filename) {\n    return this.out(\"-profile\", filename);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-progress\n  proto.progress = function progress() {\n    return this.out(\"+progress\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-random-threshold\n  proto.randomThreshold = function randomThreshold(channeltype, LOWxHIGH) {\n    return this.out(\"-random-threshold\", channeltype, LOWxHIGH);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-recolor\n  proto.recolor = function recolor(matrix) {\n    return this.out(\"-recolor\", matrix);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-red-primary\n  proto.redPrimary = function redPrimary(x, y) {\n    return this.out(\"-red-primary\", x, y);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-remote\n  proto.remote = function remote() {\n    return this.out(\"-remote\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-render\n  proto.render = function render() {\n    return this.out(\"-render\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-repage\n  proto.repage = function repage(width, height, xoff, yoff, arg) {\n    if (arguments[0] === \"+\") return this.out(\"+repage\");\n    return this.out(\"-repage\", width + 'x' + height + '+' + xoff + '+' + yoff + (arg || ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sample\n  proto.sample = function sample(geometry) {\n    return this.out(\"-sample\", geometry);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sampling-factor\n  proto.samplingFactor = function samplingFactor(horizontalFactor, verticalFactor) {\n    return this.out(\"-sampling-factor\", horizontalFactor + 'x' + verticalFactor);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scene\n  proto.scene = function scene(value) {\n    return this.out(\"-scene\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scenes\n  proto.scenes = function scenes(start, end) {\n    return this.out(\"-scenes\", start + '-' + end);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-screen\n  proto.screen = function screen() {\n    return this.out(\"-screen\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-set\n  proto.set = function set(attribute, value) {\n    return this.out(\"-set\", attribute, value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-segment\n  proto.segment = function segment(clusterThreshold, smoothingThreshold) {\n    return this.out(\"-segment\", clusterThreshold + 'x' + smoothingThreshold);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shade\n  proto.shade = function shade(azimuth, elevation) {\n    return this.out(\"-shade\", azimuth + 'x' + elevation);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shadow\n  proto.shadow = function shadow(radius, sigma) {\n    return this.out(\"-shadow\", argsToArray(radius, sigma).join('x'));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shared-memory\n  proto.sharedMemory = function sharedMemory() {\n    return this.out(\"-shared-memory\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shave\n  proto.shave = function shave(width, height, percent) {\n    return this.out(\"-shave\", width + 'x' + height + (percent ? '%' : ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shear\n  proto.shear = function shear(xDegrees, yDegreees) {\n    return this.out(\"-shear\", xDegrees + 'x' + yDegreees);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-silent\n  proto.silent = function silent(color) {\n    return this.out(\"-silent\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-size\n  proto.rawSize = function rawSize(width, height, offset) {\n    var off = 'undefined' != typeof offset ? '+' + offset : '';\n    return this.out(\"-size\", width + 'x' + height + off);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-snaps\n  proto.snaps = function snaps(value) {\n    return this.out(\"-snaps\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stegano\n  proto.stegano = function stegano(offset) {\n    return this.out(\"-stegano\", offset);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stereo\n  proto.stereo = function stereo() {\n    return this.out(\"-stereo\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-text-font\n  proto.textFont = function textFont(name) {\n    return this.out(\"-text-font\", name);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-texture\n  proto.texture = function texture(filename) {\n    return this.out(\"-texture\", filename);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-threshold\n  proto.threshold = function threshold(value, percent) {\n    return this.out(\"-threshold\", value + (percent ? '%' : ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-thumbnail\n  proto.thumbnail = function thumbnail(w, h, options) {\n    options = options || \"\";\n    var geometry,\n      wIsValid = Boolean(w || w === 0),\n      hIsValid = Boolean(h || h === 0);\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options;\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options;\n    } else {\n      return this;\n    }\n    return this.out(\"-thumbnail\", geometry);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-tile\n  proto.tile = function tile(filename) {\n    return this.out(\"-tile\", filename);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-title\n  proto.title = function title(string) {\n    return this.out(\"-title\", string);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-transform\n  proto.transform = function transform(color) {\n    return this.out(\"-transform\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-transparent\n  proto.transparent = function transparent(color) {\n    return this.out(\"-transparent\", color);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-treedepth\n  proto.treeDepth = function treeDepth(value) {\n    return this.out(\"-treedepth\", value);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-update\n  proto.update = function update(seconds) {\n    return this.out(\"-update\", seconds);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-units\n  proto.units = function units(type) {\n    return this.out(\"-units\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-unsharp\n  proto.unsharp = function unsharp(radius, sigma, amount, threshold) {\n    var arg = radius;\n    if (typeof sigma != 'undefined') arg += 'x' + sigma;\n    if (typeof amount != 'undefined') arg += '+' + amount;\n    if (typeof threshold != 'undefined') arg += '+' + threshold;\n    return this.out(\"-unsharp\", arg);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-use-pixmap\n  proto.usePixmap = function usePixmap() {\n    return this.out(\"-use-pixmap\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-view\n  proto.view = function view(string) {\n    return this.out(\"-view\", string);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-virtual-pixel\n  proto.virtualPixel = function virtualPixel(method) {\n    return this.out(\"-virtual-pixel\", method);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-visual\n  proto.visual = function visual(type) {\n    return this.out(\"-visual\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-watermark\n  proto.watermark = function watermark(brightness, saturation) {\n    return this.out(\"-watermark\", brightness + 'x' + saturation);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-wave\n  proto.wave = function wave(amplitude, wavelength) {\n    return this.out(\"-wave\", amplitude + 'x' + wavelength);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-point\n  proto.whitePoint = function whitePoint(x, y) {\n    return this.out(\"-white-point\", x + 'x' + y);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-threshold\n  proto.whiteThreshold = function whiteThreshold(red, green, blue, opacity) {\n    return this.out(\"-white-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-window\n  proto.window = function window(id) {\n    return this.out(\"-window\", id);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-window-group\n  proto.windowGroup = function windowGroup() {\n    return this.out(\"-window-group\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-strip (graphicsMagick >= 1.3.15)\n  proto.strip = function strip() {\n    if (this._options.imageMagick) return this.out(\"-strip\");\n    return this.noProfile().out(\"+comment\"); //Equivalent to \"-strip\" for all versions of graphicsMagick\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-interlace\n  proto.interlace = function interlace(type) {\n    return this.out(\"-interlace\", type || \"None\");\n  };\n\n  // force output format\n  proto.setFormat = function setFormat(format) {\n    if (format) this._outputFormat = format;\n    return this;\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize\n  proto.resize = function resize(w, h, options) {\n    options = options || \"\";\n    var geometry,\n      wIsValid = Boolean(w || w === 0),\n      hIsValid = Boolean(h || h === 0);\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options;\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options;\n    } else {\n      return this;\n    }\n    return this.out(\"-resize\", geometry);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize with '!' option\n  proto.resizeExact = function resize(w, h) {\n    var options = \"!\";\n    return proto.resize.apply(this, [w, h, options]);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scale\n  proto.scale = function scale(w, h, options) {\n    options = options || \"\";\n    var geometry;\n    if (w && h) {\n      geometry = w + \"x\" + h + options;\n    } else if (w && !h) {\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options;\n    }\n    return this.out(\"-scale\", geometry);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-filter\n  proto.filter = function filter(val) {\n    return this.out(\"-filter\", val);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-density\n  proto.density = function density(w, h) {\n    if (w && !h && this._options.imageMagick) {\n      // GraphicsMagick requires <width>x<height>y, ImageMagick may take dpi<resolution>\n      // recommended 300dpi for higher quality\n      return this.in(\"-density\", w);\n    }\n    return this.in(\"-density\", w + \"x\" + h);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n  proto.noProfile = function noProfile() {\n    this.out('+profile', '\"*\"');\n    return this;\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resample\n  proto.resample = function resample(w, h) {\n    return this.out(\"-resample\", w + \"x\" + h);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-rotate\n  proto.rotate = function rotate(color, deg) {\n    return this.out(\"-background\", color, \"-rotate\", String(deg || 0));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flip\n  proto.flip = function flip() {\n    return this.out(\"-flip\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flop\n  proto.flop = function flop() {\n    return this.out(\"-flop\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-crop\n  proto.crop = function crop(w, h, x, y, percent) {\n    if (this.inputIs('jpg')) {\n      // avoid error \"geometry does not contain image (unable to crop image)\" - gh-17\n      var index = this._in.indexOf('-size');\n      if (~index) {\n        this._in.splice(index, 2);\n      }\n    }\n    return this.out(\"-crop\", w + \"x\" + h + \"+\" + (x || 0) + \"+\" + (y || 0) + (percent ? '%' : ''));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-magnify\n  proto.magnify = function magnify(factor) {\n    return this.in(\"-magnify\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.minify = function minify() {\n    return this.in(\"-minify\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-quality\n  proto.quality = function quality(val) {\n    return this.in(\"-quality\", val || 75);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-blur\n  proto.blur = function blur(radius, sigma) {\n    return this.out(\"-blur\", radius + (sigma ? \"x\" + sigma : \"\"));\n  };\n\n  // http://www.graphicsmagick.org/convert.html\n  proto.charcoal = function charcoal(factor) {\n    return this.out(\"-charcoal\", factor || 2);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-modulate\n  proto.modulate = function modulate(b, s, h) {\n    return this.out(\"-modulate\", [b, s, h].join(\",\"));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-antialias\n  // note: antialiasing is enabled by default\n  proto.antialias = function antialias(disable) {\n    return false === disable ? this.out(\"+antialias\") : this;\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-depth\n  proto.bitdepth = function bitdepth(val) {\n    return this.out(\"-depth\", val);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colors\n  proto.colors = function colors(val) {\n    return this.out(\"-colors\", val || 128);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorspace\n  proto.colorspace = function colorspace(val) {\n    return this.out(\"-colorspace\", val);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n  proto.comment = comment(\"-comment\");\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-contrast\n  proto.contrast = function contrast(mult) {\n    var arg = (parseInt(mult, 10) || 0) > 0 ? \"+contrast\" : \"-contrast\";\n    mult = Math.abs(mult) || 1;\n    while (mult--) {\n      this.out(arg);\n    }\n    return this;\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-cycle\n  proto.cycle = function cycle(amount) {\n    return this.out(\"-cycle\", amount || 2);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.despeckle = function despeckle() {\n    return this.out(\"-despeckle\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dither\n  // note: either colors() or monochrome() must be used for this\n  // to take effect.\n  proto.dither = function dither(on) {\n    var sign = false === on ? \"+\" : \"-\";\n    return this.out(sign + \"dither\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.monochrome = function monochrome() {\n    return this.out(\"-monochrome\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.edge = function edge(radius) {\n    return this.out(\"-edge\", radius || 1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.emboss = function emboss(radius) {\n    return this.out(\"-emboss\", radius || 1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.enhance = function enhance() {\n    return this.out(\"-enhance\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.equalize = function equalize() {\n    return this.out(\"-equalize\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gamma\n  proto.gamma = function gamma(r, g, b) {\n    return this.out(\"-gamma\", [r, g, b].join());\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.implode = function implode(factor) {\n    return this.out(\"-implode\", factor || 1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n  proto.label = comment(\"-label\");\n  var limits = [\"disk\", \"file\", \"map\", \"memory\", \"pixels\", \"threads\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-limit\n  proto.limit = function limit(type, val) {\n    type = type.toLowerCase();\n    if (!~limits.indexOf(type)) {\n      return this;\n    }\n    return this.out(\"-limit\", type, val);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.median = function median(radius) {\n    return this.out(\"-median\", radius || 1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-negate\n  proto.negative = function negative(grayscale) {\n    var sign = grayscale ? \"+\" : \"-\";\n    return this.out(sign + \"negate\");\n  };\n  var noises = [\"uniform\", \"gaussian\", \"multiplicative\", \"impulse\", \"laplacian\", \"poisson\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-noise\n  proto.noise = function noise(radius) {\n    radius = String(radius).toLowerCase();\n    var sign = ~noises.indexOf(radius) ? \"+\" : \"-\";\n    return this.out(sign + \"noise\", radius);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-paint\n  proto.paint = function paint(radius) {\n    return this.out(\"-paint\", radius);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n  proto.raise = function raise(w, h) {\n    return this.out(\"-raise\", (w || 0) + \"x\" + (h || 0));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n  proto.lower = function lower(w, h) {\n    return this.out(\"+raise\", (w || 0) + \"x\" + (h || 0));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-region\n  proto.region = function region(w, h, x, y) {\n    w = w || 0;\n    h = h || 0;\n    x = x || 0;\n    y = y || 0;\n    return this.out(\"-region\", w + \"x\" + h + \"+\" + x + \"+\" + y);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-roll\n  proto.roll = function roll(x, y) {\n    x = ((x = parseInt(x, 10) || 0) >= 0 ? \"+\" : \"\") + x;\n    y = ((y = parseInt(y, 10) || 0) >= 0 ? \"+\" : \"\") + y;\n    return this.out(\"-roll\", x + y);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sharpen\n  proto.sharpen = function sharpen(radius, sigma) {\n    sigma = sigma ? \"x\" + sigma : \"\";\n    return this.out(\"-sharpen\", radius + sigma);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-solarize\n  proto.solarize = function solarize(factor) {\n    return this.out(\"-solarize\", (factor || 1) + \"%\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-spread\n  proto.spread = function spread(amount) {\n    return this.out(\"-spread\", amount || 5);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-swirl\n  proto.swirl = function swirl(degrees) {\n    return this.out(\"-swirl\", degrees || 180);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-type\n  proto.type = function type(type) {\n    return this.in(\"-type\", type);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-trim\n  proto.trim = function trim() {\n    return this.out(\"-trim\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-extent\n  proto.extent = function extent(w, h, options) {\n    options = options || \"\";\n    var geometry;\n    if (w && h) {\n      geometry = w + \"x\" + h + options;\n    } else if (w && !h) {\n      geometry = this._options.imageMagick ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options;\n    }\n    return this.out(\"-extent\", geometry);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gravity\n  // Be sure to use gravity BEFORE extent\n  proto.gravity = function gravity(type) {\n    if (!type || !~gravity.types.indexOf(type)) {\n      type = \"NorthWest\"; // Documented default.\n    }\n\n    return this.out(\"-gravity\", type);\n  };\n  proto.gravity.types = [\"NorthWest\", \"North\", \"NorthEast\", \"West\", \"Center\", \"East\", \"SouthWest\", \"South\", \"SouthEast\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n  proto.flatten = function flatten() {\n    return this.out(\"-flatten\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-background\n  proto.background = function background(color) {\n    return this.in(\"-background\", color);\n  };\n};\n\n/**\n * Generates a handler for comments/labels.\n */\n\nfunction comment(arg) {\n  return function (format) {\n    format = String(format);\n    format = \"@\" == format.charAt(0) ? format.substring(1) : format;\n    return this.out(arg, '\"' + format + '\"');\n  };\n}","map":{"version":3,"names":["argsToArray","require","isUtil","module","exports","proto","selectFrame","frame","sourceFrames","command","subCommand","name","_subCommand","adjoin","out","affine","matrix","alpha","type","_options","imageMagick","Error","append","img","ltr","_append","addSrcFormatter","src","push","apply","arguments","length","i","arg","j","len","authenticate","string","average","backdrop","blackThreshold","red","green","blue","opacity","join","bluePrimary","x","y","border","width","height","borderColor","color","box","channel","chop","w","h","in","clip","coalesce","colorize","r","g","b","colorMap","compose","operator","compress","convolve","kernel","createDirectories","deconstruct","define","value","delay","displace","horizontalScale","verticalScale","display","dispose","method","dissolve","percent","encoding","endian","file","filename","flatten","foreground","outerBevelWidth","innerBevelWidth","fuzz","distance","gaussian","radius","sigma","geometry","greenPrimary","highlightColor","highlightStyle","style","iconGeometry","intent","lat","offset","level","blackPoint","gamma","whitePoint","list","log","loop","iterations","map","mask","matte","matteColor","maximumError","limit","mode","monitor","mosaic","motionBlur","angle","noop","normalize","opaque","rvalue","orderedDither","channeltype","NxN","outputDirectory","directory","page","pause","seconds","pen","ping","pointSize","preview","process","profile","progress","randomThreshold","LOWxHIGH","recolor","redPrimary","remote","render","repage","xoff","yoff","sample","samplingFactor","horizontalFactor","verticalFactor","scene","scenes","start","end","screen","set","attribute","segment","clusterThreshold","smoothingThreshold","shade","azimuth","elevation","shadow","sharedMemory","shave","shear","xDegrees","yDegreees","silent","rawSize","off","snaps","stegano","stereo","textFont","texture","threshold","thumbnail","options","wIsValid","Boolean","hIsValid","tile","title","transform","transparent","treeDepth","update","units","unsharp","amount","usePixmap","view","virtualPixel","visual","watermark","brightness","saturation","wave","amplitude","wavelength","whiteThreshold","window","id","windowGroup","strip","noProfile","interlace","setFormat","format","_outputFormat","resize","resizeExact","scale","filter","val","density","resample","rotate","deg","String","flip","flop","crop","inputIs","index","_in","indexOf","splice","magnify","factor","minify","quality","blur","charcoal","modulate","s","antialias","disable","bitdepth","colors","colorspace","comment","contrast","mult","parseInt","Math","abs","cycle","despeckle","dither","on","sign","monochrome","edge","emboss","enhance","equalize","implode","label","limits","toLowerCase","median","negative","grayscale","noises","noise","paint","raise","lower","region","roll","sharpen","solarize","spread","swirl","degrees","trim","extent","gravity","types","background","charAt","substring"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/gm/lib/args.js"],"sourcesContent":["/**\n * Dependencies\n */\n\nvar argsToArray = require('./utils').argsToArray;\nvar isUtil = require('./utils').isUtil;\n/**\n * Extend proto\n */\n\nmodule.exports = function (proto) {\n  // change the specified frame.\n  // See #202.\n  proto.selectFrame = function (frame) {\n    if (typeof frame === 'number')\n      this.sourceFrames = '[' + frame + ']';\n    return this;\n  }\n\n  // define the sub-command to use, http://www.graphicsmagick.org/utilities.html\n  proto.command = proto.subCommand = function subCommand (name){\n    this._subCommand = name;\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-adjoin\n  proto.adjoin = function adjoin () {\n    return this.out(\"-adjoin\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-affine\n  proto.affine = function affine (matrix) {\n    return this.out(\"-affine\", matrix);\n  }\n\n  proto.alpha = function alpha (type) {\n    if (!this._options.imageMagick) return new Error('Method -alpha is not supported by GraphicsMagick');\n    return this.out('-alpha', type);\n  }\n\n  /**\n   * Appends images to the list of \"source\" images.\n   *\n   * We may also specify either top-to-bottom or left-to-right\n   * behavior of the appending by passing a boolean argument.\n   *\n   * Examples:\n   *\n   *    img = gm(src);\n   *\n   *    // +append means left-to-right\n   *    img.append(img1, img2)       gm convert src img1 img2 -append\n   *    img.append(img, true)        gm convert src img +append\n   *    img.append(img, false)       gm convert src img -append\n   *    img.append(img)              gm convert src img -append\n   *    img.append(img).append()     gm convert src img -append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).append(true) gm convert src img +append\n   *    img.append(img).background('#222) gm convert src img -background #222 +append\n   *    img.append([img1,img2...],true)\n\n   * @param {String} or {Array} [img]\n   * @param {Boolean} [ltr]\n   * @see http://www.graphicsmagick.org/GraphicsMagick.html#details-append\n   */\n\n  proto.append = function append (img, ltr) {\n    if (!this._append) {\n      this._append = [];\n      this.addSrcFormatter(function (src) {\n        this.out(this._append.ltr ? '+append' : '-append');\n        src.push.apply(src, this._append);\n      });\n    }\n\n    if (0 === arguments.length) {\n      this._append.ltr = false;\n      return this;\n    }\n\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      switch (isUtil(arg)) {\n        case 'Boolean':\n          this._append.ltr = arg;\n          break;\n        case 'String':\n          this._append.push(arg);\n          break;\n        case 'Array':\n          for(var j=0,len=arg.length;j<len;j++){\n            if(isUtil(arg[j]) == 'String'){\n              this._append.push(arg[j]);\n            }\n          }\n          break;\n      }\n    }\n\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-authenticate\n  proto.authenticate = function authenticate (string) {\n    return this.out(\"-authenticate\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-average\n  proto.average = function average () {\n    return this.out(\"-average\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-backdrop\n  proto.backdrop = function backdrop () {\n    return this.out(\"-backdrop\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-black-threshold\n  proto.blackThreshold = function blackThreshold (red, green, blue, opacity) {\n    return this.out(\"-black-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-blue-primary\n  proto.bluePrimary = function bluePrimary (x, y) {\n    return this.out(\"-blue-primary\", argsToArray(x, y).join(','));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-border\n  proto.border = function border (width, height) {\n    return this.out(\"-border\", width+\"x\"+height);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-bordercolor\n  proto.borderColor = function borderColor (color) {\n    return this.out(\"-bordercolor\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-box\n  proto.box = function box (color) {\n    return this.out(\"-box\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-channel\n  proto.channel = function channel (type) {\n    return this.out(\"-channel\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-chop\n  proto.chop = function chop (w, h, x, y) {\n    return this.in(\"-chop\", w+\"x\"+h + \"+\"+(x||0)+\"+\"+(y||0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-clip\n  proto.clip = function clip () {\n    return this.out(\"-clip\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-coalesce\n  proto.coalesce = function coalesce () {\n    return this.out(\"-coalesce\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorize\n  proto.colorize = function colorize (r, g, b) {\n    return this.out(\"-colorize\", [r,g,b].join(\",\"));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colormap\n  proto.colorMap = function colorMap (type) {\n    return this.out(\"-colormap\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-compose\n  proto.compose = function compose (operator) {\n    return this.out(\"-compose\", operator);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-compress\n  proto.compress = function compress (type) {\n    return this.out(\"-compress\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-kernel\n  proto.convolve = function convolve (kernel) {\n    return this.out(\"-convolve\", kernel);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-create-directories\n  proto.createDirectories = function createDirectories () {\n    return this.out(\"-create-directories\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-deconstruct\n  proto.deconstruct = function deconstruct () {\n    return this.out(\"-deconstruct\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-define\n  proto.define = function define (value) {\n    return this.out(\"-define\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-delay\n  proto.delay = function delay (value) {\n    return this.out(\"-delay\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-displace\n  proto.displace = function displace (horizontalScale, verticalScale) {\n    return this.out(\"-displace\", horizontalScale+'x'+verticalScale);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-display\n  proto.display = function display (value) {\n    return this.out(\"-display\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dispose\n  proto.dispose = function dispose (method) {\n    return this.out(\"-dispose\", method);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dissolve\n  proto.dissolve = function dissolve (percent) {\n    return this.out(\"-dissolve\", percent+'%');\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-encoding\n  proto.encoding = function encoding (type) {\n    return this.out(\"-encoding\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-endian\n  proto.endian = function endian (type) {\n    return this.out(\"-endian\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-file\n  proto.file = function file (filename) {\n    return this.out(\"-file\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n  proto.flatten = function flatten () {\n    return this.out(\"-flatten\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-foreground\n  proto.foreground = function foreground (color) {\n    return this.out(\"-foreground\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-frame\n  proto.frame = function frame (width, height, outerBevelWidth, innerBevelWidth) {\n    if(arguments.length==0) return this.out(\"-frame\");\n    return this.out(\"-frame\", width+'x'+height+'+'+outerBevelWidth+'+'+innerBevelWidth);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-fuzz\n  proto.fuzz = function fuzz (distance, percent) {\n    return this.out(\"-fuzz\", distance+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gaussian\n  proto.gaussian = function gaussian (radius, sigma) {\n    return this.out(\"-gaussian\", argsToArray(radius, sigma).join('x'));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-geometry\n  proto.geometry = function geometry (width, height, arg) {\n    // If the first argument is a string, and there is only one argument, this is a custom geometry command.\n    if(arguments.length == 1 && typeof arguments[0] === \"string\")\n      return this.out(\"-geometry\", arguments[0]);\n\n    // Otherwise, return a resizing geometry command with an option alrgument.\n    return this.out(\"-geometry\", width+'x'+height+(arg||''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-green-primary\n  proto.greenPrimary = function greenPrimary (x, y) {\n    return this.out(\"-green-primary\", x+','+y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-color\n  proto.highlightColor = function highlightColor (color) {\n    return this.out(\"-highlight-color\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-highlight-style\n  proto.highlightStyle = function highlightStyle (style) {\n    return this.out(\"-highlight-style\", style);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-iconGeometry\n  proto.iconGeometry = function iconGeometry (geometry) {\n    return this.out(\"-iconGeometry\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-intent\n  proto.intent = function intent (type) {\n    return this.out(\"-intent\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-lat\n  proto.lat = function lat (width, height, offset, percent) {\n    return this.out(\"-lat\", width+'x'+height+offset+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-level\n  proto.level = function level (blackPoint, gamma, whitePoint, percent) {\n    return this.out(\"-level\", argsToArray(blackPoint, gamma, whitePoint).join(',')+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-list\n  proto.list = function list (type) {\n    return this.out(\"-list\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-log\n  proto.log = function log (string) {\n    return this.out(\"-log\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-loop\n  proto.loop = function loop (iterations) {\n    return this.out(\"-loop\", iterations);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-map\n  proto.map = function map (filename) {\n    return this.out(\"-map\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mask\n  proto.mask = function mask (filename) {\n    return this.out(\"-mask\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-matte\n  proto.matte = function matte () {\n    return this.out(\"-matte\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mattecolor\n  proto.matteColor = function matteColor (color) {\n    return this.out(\"-mattecolor\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-maximum-error\n  proto.maximumError = function maximumError (limit) {\n    return this.out(\"-maximum-error\", limit);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mode\n  proto.mode = function mode (value) {\n    return this.out(\"-mode\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-monitor\n  proto.monitor = function monitor () {\n    return this.out(\"-monitor\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-mosaic\n  proto.mosaic = function mosaic () {\n    return this.out(\"-mosaic\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-motion-blur\n  proto.motionBlur = function motionBlur (radius, sigma, angle) {\n    var arg=radius;\n    if (typeof sigma!='undefined') arg+='x'+sigma;\n    if (typeof angle!='undefined') arg+='+'+angle;\n    return this.out(\"-motion-blur\", arg);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-name\n  proto.name = function name () {\n    return this.out(\"-name\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-noop\n  proto.noop = function noop () {\n    return this.out(\"-noop\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-normalize\n  proto.normalize = function normalize () {\n    return this.out(\"-normalize\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-opaque\n  proto.opaque = function opaque (color) {\n    return this.out(\"-opaque\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-operator\n  proto.operator = function operator (channel, operator, rvalue, percent) {\n    return this.out(\"-operator\", channel, operator, rvalue+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-ordered-dither\n  proto.orderedDither = function orderedDither (channeltype, NxN) {\n    return this.out(\"-ordered-dither\", channeltype, NxN);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-output-directory\n  proto.outputDirectory = function outputDirectory (directory) {\n    return this.out(\"-output-directory\", directory);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-page\n  proto.page = function page (width, height, arg) {\n    return this.out(\"-page\", width+'x'+height+(arg||''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pause\n  proto.pause = function pause (seconds) {\n    return this.out(\"-pause\", seconds);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pen\n  proto.pen = function pen (color) {\n    return this.out(\"-pen\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-ping\n  proto.ping = function ping () {\n    return this.out(\"-ping\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-pointsize\n  proto.pointSize = function pointSize (value) {\n    return this.out(\"-pointsize\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-preview\n  proto.preview = function preview (type) {\n    return this.out(\"-preview\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-process\n  proto.process = function process (command) {\n    return this.out(\"-process\", command);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n  proto.profile = function profile (filename) {\n    return this.out(\"-profile\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-progress\n  proto.progress = function progress () {\n    return this.out(\"+progress\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-random-threshold\n  proto.randomThreshold = function randomThreshold (channeltype, LOWxHIGH) {\n    return this.out(\"-random-threshold\", channeltype, LOWxHIGH);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-recolor\n  proto.recolor = function recolor (matrix) {\n    return this.out(\"-recolor\", matrix);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-red-primary\n  proto.redPrimary = function redPrimary (x, y) {\n    return this.out(\"-red-primary\", x, y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-remote\n  proto.remote = function remote () {\n    return this.out(\"-remote\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-render\n  proto.render = function render () {\n    return this.out(\"-render\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-repage\n  proto.repage = function repage (width, height, xoff, yoff, arg) {\n    if (arguments[0] === \"+\") return this.out(\"+repage\");\n    return this.out(\"-repage\", width+'x'+height+'+'+xoff+'+'+yoff+(arg||''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sample\n  proto.sample = function sample (geometry) {\n    return this.out(\"-sample\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sampling-factor\n  proto.samplingFactor = function samplingFactor (horizontalFactor, verticalFactor) {\n    return this.out(\"-sampling-factor\", horizontalFactor+'x'+verticalFactor);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scene\n  proto.scene = function scene (value) {\n    return this.out(\"-scene\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scenes\n  proto.scenes = function scenes (start, end) {\n    return this.out(\"-scenes\", start+'-'+end);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-screen\n  proto.screen = function screen () {\n    return this.out(\"-screen\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-set\n  proto.set = function set (attribute, value) {\n    return this.out(\"-set\", attribute, value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-segment\n  proto.segment = function segment (clusterThreshold, smoothingThreshold) {\n    return this.out(\"-segment\", clusterThreshold+'x'+smoothingThreshold);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shade\n  proto.shade = function shade (azimuth, elevation) {\n    return this.out(\"-shade\", azimuth+'x'+elevation);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shadow\n  proto.shadow = function shadow (radius, sigma) {\n    return this.out(\"-shadow\", argsToArray(radius, sigma).join('x'));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shared-memory\n  proto.sharedMemory = function sharedMemory () {\n    return this.out(\"-shared-memory\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shave\n  proto.shave = function shave (width, height, percent) {\n    return this.out(\"-shave\", width+'x'+height+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-shear\n  proto.shear = function shear (xDegrees, yDegreees) {\n    return this.out(\"-shear\", xDegrees+'x'+yDegreees);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-silent\n  proto.silent = function silent (color) {\n    return this.out(\"-silent\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-size\n  proto.rawSize = function rawSize (width, height, offset) {\n    var off = 'undefined' != typeof offset\n      ? '+' + offset\n      : '';\n    return this.out(\"-size\", width +'x'+ height + off);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-snaps\n  proto.snaps = function snaps (value) {\n    return this.out(\"-snaps\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stegano\n  proto.stegano = function stegano (offset) {\n    return this.out(\"-stegano\", offset);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stereo\n  proto.stereo = function stereo () {\n    return this.out(\"-stereo\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-text-font\n  proto.textFont = function textFont (name) {\n    return this.out(\"-text-font\", name);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-texture\n  proto.texture = function texture (filename) {\n    return this.out(\"-texture\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-threshold\n  proto.threshold = function threshold (value, percent) {\n    return this.out(\"-threshold\", value+(percent?'%':''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-thumbnail\n  proto.thumbnail = function thumbnail (w, h, options) {\n    options = options || \"\";\n    var geometry,\n      wIsValid = Boolean(w || w === 0),\n      hIsValid = Boolean(h || h === 0);\n\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = (this._options.imageMagick) ? w + options : w +\n        'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options\n    } else {\n      return this\n    }\n\n    return this.out(\"-thumbnail\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-tile\n  proto.tile = function tile (filename) {\n    return this.out(\"-tile\", filename);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-title\n  proto.title = function title (string) {\n    return this.out(\"-title\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-transform\n  proto.transform = function transform (color) {\n    return this.out(\"-transform\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-transparent\n  proto.transparent = function transparent (color) {\n    return this.out(\"-transparent\", color);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-treedepth\n  proto.treeDepth = function treeDepth (value) {\n    return this.out(\"-treedepth\", value);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-update\n  proto.update = function update (seconds) {\n    return this.out(\"-update\", seconds);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-units\n  proto.units = function units (type) {\n    return this.out(\"-units\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-unsharp\n  proto.unsharp = function unsharp (radius, sigma, amount, threshold) {\n    var arg=radius;\n    if (typeof sigma != 'undefined') arg+='x'+sigma;\n    if (typeof amount != 'undefined') arg+='+'+amount;\n    if (typeof threshold != 'undefined') arg+='+'+threshold;\n    return this.out(\"-unsharp\", arg);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-use-pixmap\n  proto.usePixmap = function usePixmap () {\n    return this.out(\"-use-pixmap\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-view\n  proto.view = function view (string) {\n    return this.out(\"-view\", string);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-virtual-pixel\n  proto.virtualPixel = function virtualPixel (method) {\n    return this.out(\"-virtual-pixel\", method);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-visual\n  proto.visual = function visual (type) {\n    return this.out(\"-visual\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-watermark\n  proto.watermark = function watermark (brightness, saturation) {\n    return this.out(\"-watermark\", brightness+'x'+saturation);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-wave\n  proto.wave = function wave (amplitude, wavelength) {\n    return this.out(\"-wave\", amplitude+'x'+wavelength);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-point\n  proto.whitePoint = function whitePoint (x, y) {\n    return this.out(\"-white-point\", x+'x'+y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-white-threshold\n  proto.whiteThreshold = function whiteThreshold (red, green, blue, opacity) {\n    return this.out(\"-white-threshold\", argsToArray(red, green, blue, opacity).join(','));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-window\n  proto.window = function window (id) {\n    return this.out(\"-window\", id);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-window-group\n  proto.windowGroup = function windowGroup () {\n    return this.out(\"-window-group\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-strip (graphicsMagick >= 1.3.15)\n  proto.strip = function strip () {\n    if (this._options.imageMagick) return this.out(\"-strip\");\n    return this.noProfile().out(\"+comment\");//Equivalent to \"-strip\" for all versions of graphicsMagick\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-interlace\n  proto.interlace = function interlace (type) {\n    return this.out(\"-interlace\", type || \"None\");\n  }\n\n  // force output format\n  proto.setFormat = function setFormat (format) {\n    if (format) this._outputFormat = format;\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize\n  proto.resize = function resize (w, h, options) {\n    options = options || \"\";\n    var geometry,\n      wIsValid = Boolean(w || w === 0),\n      hIsValid = Boolean(h || h === 0);\n\n    if (wIsValid && hIsValid) {\n      geometry = w + \"x\" + h + options\n    } else if (wIsValid) {\n      // GraphicsMagick requires <width>x<options>, ImageMagick requires <width><options>\n      geometry = (this._options.imageMagick) ? w + options : w +\n        'x' + options;\n    } else if (hIsValid) {\n      geometry = 'x' + h + options\n    } else {\n      return this\n    }\n\n    return this.out(\"-resize\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resize with '!' option\n  proto.resizeExact = function resize (w, h) {\n    var options = \"!\";\n    return proto.resize.apply(this, [w, h, options]);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-scale\n  proto.scale = function scale (w, h, options) {\n    options = options || \"\";\n    var geometry;\n    if (w && h) {\n      geometry = w + \"x\" + h + options\n    } else if (w && !h) {\n      geometry = (this._options.imageMagick) ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options\n    }\n\n    return this.out(\"-scale\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-filter\n  proto.filter = function filter (val) {\n    return this.out(\"-filter\", val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-density\n  proto.density = function density (w, h) {\n    if (w && !h && this._options.imageMagick) {\n      // GraphicsMagick requires <width>x<height>y, ImageMagick may take dpi<resolution>\n      // recommended 300dpi for higher quality\n      return this.in(\"-density\", w);\n    }\n    return this.in(\"-density\", w +\"x\"+ h);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-profile\n  proto.noProfile = function noProfile () {\n    this.out('+profile', '\"*\"');\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-resample\n  proto.resample = function resample (w, h) {\n    return this.out(\"-resample\", w+\"x\"+h);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-rotate\n  proto.rotate = function rotate (color, deg) {\n    return this.out(\"-background\", color, \"-rotate\", String(deg || 0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flip\n  proto.flip = function flip () {\n    return this.out(\"-flip\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flop\n  proto.flop = function flop () {\n    return this.out(\"-flop\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-crop\n  proto.crop = function crop (w, h, x, y, percent) {\n    if (this.inputIs('jpg')) {\n      // avoid error \"geometry does not contain image (unable to crop image)\" - gh-17\n      var index = this._in.indexOf('-size');\n      if (~index) {\n        this._in.splice(index, 2);\n      }\n    }\n\n    return this.out(\"-crop\", w + \"x\" + h + \"+\" + (x || 0) + \"+\" + (y || 0) + (percent ? '%' : ''));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-magnify\n  proto.magnify = function magnify (factor) {\n    return this.in(\"-magnify\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.minify = function minify () {\n    return this.in(\"-minify\")\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-quality\n  proto.quality = function quality (val) {\n    return this.in(\"-quality\", val || 75);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-blur\n  proto.blur = function blur (radius, sigma) {\n    return this.out(\"-blur\", radius + (sigma ? \"x\"+sigma : \"\"));\n  }\n\n  // http://www.graphicsmagick.org/convert.html\n  proto.charcoal = function charcoal (factor) {\n    return this.out(\"-charcoal\", factor || 2);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-modulate\n  proto.modulate = function modulate (b, s, h) {\n    return this.out(\"-modulate\", [b,s,h].join(\",\"));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-antialias\n  // note: antialiasing is enabled by default\n  proto.antialias = function antialias (disable) {\n    return false === disable\n      ? this.out(\"+antialias\")\n      : this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-depth\n  proto.bitdepth = function bitdepth (val) {\n    return this.out(\"-depth\", val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colors\n  proto.colors = function colors (val) {\n    return this.out(\"-colors\", val || 128);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-colorspace\n  proto.colorspace = function colorspace (val) {\n    return this.out(\"-colorspace\", val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n  proto.comment = comment(\"-comment\");\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-contrast\n  proto.contrast = function contrast (mult) {\n    var arg = (parseInt(mult, 10) || 0) > 0\n      ? \"+contrast\"\n      : \"-contrast\";\n\n    mult = Math.abs(mult) || 1;\n\n    while (mult--) {\n      this.out(arg);\n    }\n\n    return this;\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-cycle\n  proto.cycle = function cycle (amount) {\n    return this.out(\"-cycle\", amount || 2);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.despeckle = function despeckle () {\n    return this.out(\"-despeckle\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-dither\n  // note: either colors() or monochrome() must be used for this\n  // to take effect.\n  proto.dither = function dither (on) {\n    var sign = false === on\n      ? \"+\"\n      : \"-\";\n\n    return this.out(sign + \"dither\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.monochrome = function monochrome () {\n    return this.out(\"-monochrome\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.edge = function edge (radius) {\n    return this.out(\"-edge\", radius || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.emboss = function emboss (radius) {\n    return this.out(\"-emboss\", radius || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.enhance = function enhance () {\n    return this.out(\"-enhance\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.equalize = function equalize () {\n    return this.out(\"-equalize\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gamma\n  proto.gamma = function gamma (r, g, b) {\n    return this.out(\"-gamma\", [r,g,b].join());\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.implode = function implode (factor) {\n    return this.out(\"-implode\", factor || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-comment\n  proto.label = comment(\"-label\");\n\n  var limits = [ \"disk\", \"file\", \"map\", \"memory\", \"pixels\", \"threads\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-limit\n  proto.limit = function limit (type, val) {\n    type = type.toLowerCase();\n\n    if (!~limits.indexOf(type)) {\n      return this;\n    }\n\n    return this.out(\"-limit\", type, val);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.median = function median (radius) {\n    return this.out(\"-median\", radius || 1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-negate\n  proto.negative = function negative (grayscale) {\n    var sign = grayscale ? \"+\" : \"-\";\n    return this.out(sign + \"negate\");\n  }\n\n  var noises = [\n      \"uniform\"\n    , \"gaussian\"\n    , \"multiplicative\"\n    , \"impulse\"\n    , \"laplacian\"\n    , \"poisson\"\n  ];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-noise\n  proto.noise = function noise (radius) {\n    radius = (String(radius)).toLowerCase();\n\n    var sign = ~noises.indexOf(radius)\n      ? \"+\"\n      : \"-\";\n\n    return this.out(sign + \"noise\", radius);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-paint\n  proto.paint = function paint (radius) {\n    return this.out(\"-paint\", radius);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n  proto.raise = function raise (w, h) {\n    return this.out(\"-raise\", (w||0)+\"x\"+(h||0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-raise\n  proto.lower = function lower (w, h) {\n    return this.out(\"+raise\", (w||0)+\"x\"+(h||0));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-region\n  proto.region = function region (w, h, x, y) {\n    w = w || 0;\n    h = h || 0;\n    x = x || 0;\n    y = y || 0;\n    return this.out(\"-region\", w + \"x\" + h + \"+\" + x + \"+\" + y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-roll\n  proto.roll = function roll (x, y) {\n    x = ((x = parseInt(x, 10) || 0) >= 0 ? \"+\" : \"\") + x;\n    y = ((y = parseInt(y, 10) || 0) >= 0 ? \"+\" : \"\") + y;\n    return this.out(\"-roll\", x+y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-sharpen\n  proto.sharpen = function sharpen (radius, sigma) {\n    sigma = sigma\n      ? \"x\" + sigma\n      : \"\";\n\n    return this.out(\"-sharpen\", radius + sigma);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-solarize\n  proto.solarize = function solarize (factor) {\n    return this.out(\"-solarize\", (factor || 1)+\"%\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-spread\n  proto.spread = function spread (amount) {\n    return this.out(\"-spread\", amount || 5);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-swirl\n  proto.swirl = function swirl (degrees) {\n    return this.out(\"-swirl\", degrees || 180);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-type\n  proto.type = function type (type) {\n    return this.in(\"-type\", type);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-trim\n  proto.trim = function trim () {\n    return this.out(\"-trim\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-extent\n  proto.extent = function extent (w, h, options) {\n    options = options || \"\";\n    var geometry;\n    if (w && h) {\n      geometry = w + \"x\" + h + options\n    } else if (w && !h) {\n      geometry = (this._options.imageMagick) ? w + options : w + 'x' + options;\n    } else if (!w && h) {\n      geometry = 'x' + h + options\n    }\n\n    return this.out(\"-extent\", geometry);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-gravity\n  // Be sure to use gravity BEFORE extent\n  proto.gravity = function gravity (type) {\n    if (!type || !~gravity.types.indexOf(type)) {\n      type = \"NorthWest\"; // Documented default.\n    }\n\n    return this.out(\"-gravity\", type);\n  }\n\n  proto.gravity.types = [\n      \"NorthWest\"\n    , \"North\"\n    , \"NorthEast\"\n    , \"West\"\n    , \"Center\"\n    , \"East\"\n    , \"SouthWest\"\n    , \"South\"\n    , \"SouthEast\"\n  ];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-flatten\n  proto.flatten = function flatten () {\n    return this.out(\"-flatten\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-background\n  proto.background = function background (color) {\n    return this.in(\"-background\", color);\n  }\n};\n\n/**\n * Generates a handler for comments/labels.\n */\n\nfunction comment (arg) {\n  return function (format) {\n    format = String(format);\n\n    format = \"@\" == format.charAt(0)\n      ? format.substring(1)\n      : format;\n\n    return this.out(arg, '\"' + format + '\"');\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}