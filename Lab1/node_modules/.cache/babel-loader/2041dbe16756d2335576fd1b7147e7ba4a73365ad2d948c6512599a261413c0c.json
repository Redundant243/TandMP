{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport React, { useMemo } from \"react\";\nimport Menu from \"@scaleflex/ui/core/menu\";\nimport { SET_CROP, SET_RESIZE, ZOOM_CANVAS } from \"../../../actions\";\nimport { useStore } from \"../../../hooks\";\nimport { StyledToolsBarItemButtonLabel } from \"../../ToolsBar/ToolsBar.styled\";\nimport { DEFAULT_ZOOM_FACTOR, TOOLS_IDS } from \"../../../utils/constants\";\nimport toPrecisedFloat from \"../../../utils/toPrecisedFloat\";\nimport getZoomFitFactor from \"../../../utils/getZoomFitFactor\";\nimport { StyledOpenMenuButton } from \"./Crop.styled\";\nimport { DEFAULT_CROP_PRESETS } from \"./Crop.constants\";\nimport CropPresetGroupsList from \"./CropPresetGroupsFolder\";\nimport CropPresetItem from \"./CropPresetItem\";\nvar PREFIX_ICONS_DIMENS = {\n    height: 16,\n    width: 16\n  },\n  CropPresetsOption = function (a) {\n    var b = a.anchorEl,\n      c = a.onClose,\n      d = useStore(),\n      f = d.dispatch,\n      g = d.t,\n      e = d.adjustments;\n    e = void 0 === e ? {} : e;\n    var h = e.crop;\n    h = void 0 === h ? {} : h;\n    var i = h.ratio,\n      j = h.ratioTitleKey,\n      k = h.ratioFolderKey,\n      l = d.shownImageDimensions,\n      m = d.config,\n      n = m[TOOLS_IDS.CROP],\n      o = useMemo(function () {\n        var a = n.presetsItems,\n          b = void 0 === a ? [] : a,\n          c = n.presetsFolders,\n          d = void 0 === c ? [] : c;\n        return [].concat(_toConsumableArray(d), _toConsumableArray(DEFAULT_CROP_PRESETS), _toConsumableArray(b));\n      }, [n]),\n      p = function (a, b, d) {\n        a.stopPropagation();\n        var e = {\n          ratio: b,\n          ratioTitleKey: d.ratioTitleKey,\n          ratioGroupKey: d.ratioGroupKey,\n          ratioFolderKey: d.ratioFolderKey\n        };\n        f({\n          type: SET_CROP,\n          payload: e\n        }), n.autoResize && (f({\n          type: SET_RESIZE,\n          payload: {\n            width: d.width,\n            height: d.height,\n            manualChangeDisabled: d.disableManualResize\n          }\n        }), f({\n          type: ZOOM_CANVAS,\n          payload: {\n            factor: d.width > l.width || d.height > l.height ? getZoomFitFactor(l, d) : DEFAULT_ZOOM_FACTOR\n          }\n        })), c();\n      };\n    return React.createElement(React.Fragment, null, React.createElement(StyledToolsBarItemButtonLabel, {\n      className: \"FIE_crop-tool-label FIE_selected-crop-preset-label\"\n    }, g(j || \"cropTool\")), React.createElement(StyledOpenMenuButton, {\n      className: \"FIE_crop-presets-opener-button\",\n      color: \"link\",\n      size: \"lg\"\n    }, b ? React.createElement(React.Fragment, null, \"\\u25B4\") : React.createElement(React.Fragment, null, \"\\u25BE\")), React.createElement(Menu, {\n      className: \"FIE_crop-presets-menu\",\n      anchorEl: b,\n      enableOverlay: !0,\n      onClose: c,\n      open: !!b,\n      position: \"top\"\n    }, o.map(function renderPreset(a) {\n      var b = a.titleKey,\n        c = a.descriptionKey,\n        d = a.ratio,\n        e = a.width,\n        f = a.height,\n        h = a.groups,\n        j = a.icon,\n        l = a.disableManualResize;\n      return h ? React.createElement(CropPresetGroupsList, {\n        key: b,\n        titleKey: b,\n        groups: h,\n        Icon: j,\n        onItemSelect: p,\n        prefixIconDimensions: PREFIX_ICONS_DIMENS,\n        t: g,\n        disableManualResize: l\n      }) : React.createElement(CropPresetItem, {\n        key: d,\n        ratio: null !== d && void 0 !== d ? d : toPrecisedFloat(e / f),\n        titleKey: b,\n        t: g,\n        description: g(c),\n        Icon: j,\n        isActive: i === (null !== d && void 0 !== d ? d : toPrecisedFloat(e / f)) && !k,\n        width: e,\n        height: f,\n        onClick: p,\n        disableManualResize: l\n      });\n    })));\n  };\nCropPresetsOption.defaultProps = {\n  anchorEl: null\n};\nexport default CropPresetsOption;","map":{"version":3,"names":["_toConsumableArray","React","useMemo","Menu","SET_CROP","SET_RESIZE","ZOOM_CANVAS","useStore","StyledToolsBarItemButtonLabel","DEFAULT_ZOOM_FACTOR","TOOLS_IDS","toPrecisedFloat","getZoomFitFactor","StyledOpenMenuButton","DEFAULT_CROP_PRESETS","CropPresetGroupsList","CropPresetItem","PREFIX_ICONS_DIMENS","height","width","CropPresetsOption","a","b","anchorEl","c","onClose","d","f","dispatch","g","t","e","adjustments","h","crop","i","ratio","j","ratioTitleKey","k","ratioFolderKey","l","shownImageDimensions","m","config","n","CROP","o","presetsItems","presetsFolders","concat","p","stopPropagation","ratioGroupKey","type","payload","autoResize","manualChangeDisabled","disableManualResize","factor","createElement","Fragment","className","color","size","enableOverlay","open","position","map","renderPreset","titleKey","descriptionKey","groups","icon","key","Icon","onItemSelect","prefixIconDimensions","description","isActive","onClick","defaultProps"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/react-filerobot-image-editor/lib/components/tools/Crop/CropPresetsOption.js"],"sourcesContent":["import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import React,{useMemo}from\"react\";import Menu from\"@scaleflex/ui/core/menu\";import{SET_CROP,SET_RESIZE,ZOOM_CANVAS}from\"../../../actions\";import{useStore}from\"../../../hooks\";import{StyledToolsBarItemButtonLabel}from\"../../ToolsBar/ToolsBar.styled\";import{DEFAULT_ZOOM_FACTOR,TOOLS_IDS}from\"../../../utils/constants\";import toPrecisedFloat from\"../../../utils/toPrecisedFloat\";import getZoomFitFactor from\"../../../utils/getZoomFitFactor\";import{StyledOpenMenuButton}from\"./Crop.styled\";import{DEFAULT_CROP_PRESETS}from\"./Crop.constants\";import CropPresetGroupsList from\"./CropPresetGroupsFolder\";import CropPresetItem from\"./CropPresetItem\";var PREFIX_ICONS_DIMENS={height:16,width:16},CropPresetsOption=function(a){var b=a.anchorEl,c=a.onClose,d=useStore(),f=d.dispatch,g=d.t,e=d.adjustments;e=void 0===e?{}:e;var h=e.crop;h=void 0===h?{}:h;var i=h.ratio,j=h.ratioTitleKey,k=h.ratioFolderKey,l=d.shownImageDimensions,m=d.config,n=m[TOOLS_IDS.CROP],o=useMemo(function(){var a=n.presetsItems,b=void 0===a?[]:a,c=n.presetsFolders,d=void 0===c?[]:c;return[].concat(_toConsumableArray(d),_toConsumableArray(DEFAULT_CROP_PRESETS),_toConsumableArray(b))},[n]),p=function(a,b,d){a.stopPropagation();var e={ratio:b,ratioTitleKey:d.ratioTitleKey,ratioGroupKey:d.ratioGroupKey,ratioFolderKey:d.ratioFolderKey};f({type:SET_CROP,payload:e}),n.autoResize&&(f({type:SET_RESIZE,payload:{width:d.width,height:d.height,manualChangeDisabled:d.disableManualResize}}),f({type:ZOOM_CANVAS,payload:{factor:d.width>l.width||d.height>l.height?getZoomFitFactor(l,d):DEFAULT_ZOOM_FACTOR}})),c()};return React.createElement(React.Fragment,null,React.createElement(StyledToolsBarItemButtonLabel,{className:\"FIE_crop-tool-label FIE_selected-crop-preset-label\"},g(j||\"cropTool\")),React.createElement(StyledOpenMenuButton,{className:\"FIE_crop-presets-opener-button\",color:\"link\",size:\"lg\"},b?React.createElement(React.Fragment,null,\"\\u25B4\"):React.createElement(React.Fragment,null,\"\\u25BE\")),React.createElement(Menu,{className:\"FIE_crop-presets-menu\",anchorEl:b,enableOverlay:!0,onClose:c,open:!!b,position:\"top\"},o.map(function renderPreset(a){var b=a.titleKey,c=a.descriptionKey,d=a.ratio,e=a.width,f=a.height,h=a.groups,j=a.icon,l=a.disableManualResize;return h?React.createElement(CropPresetGroupsList,{key:b,titleKey:b,groups:h,Icon:j,onItemSelect:p,prefixIconDimensions:PREFIX_ICONS_DIMENS,t:g,disableManualResize:l}):React.createElement(CropPresetItem,{key:d,ratio:null!==d&&void 0!==d?d:toPrecisedFloat(e/f),titleKey:b,t:g,description:g(c),Icon:j,isActive:i===(null!==d&&void 0!==d?d:toPrecisedFloat(e/f))&&!k,width:e,height:f,onClick:p,disableManualResize:l})})))};CropPresetsOption.defaultProps={anchorEl:null};export default CropPresetsOption;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}