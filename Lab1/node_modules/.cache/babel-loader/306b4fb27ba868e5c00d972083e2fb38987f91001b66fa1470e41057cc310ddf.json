{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport IconButton from \"@scaleflex/ui/core/icon-button\";\nimport DeleteOutline from \"@scaleflex/icons/delete-outline\";\nimport Duplicate from \"@scaleflex/icons/duplicate\";\nimport { useStore } from \"../../hooks\";\nimport { DUPLICATE_ANNOTATIONS, REMOVE_ANNOTATIONS } from \"../../actions\";\nimport { NODES_TRANSFORMER_ID, WATERMARK_ANNOTATION_ID } from \"../../utils/constants\";\nimport debounce from \"../../utils/debounce\";\nimport { StyledNodeControls } from \"./NodeControls.styled\";\nvar NodeControls = function () {\n  var a = useStore(),\n    b = a.selectionsIds,\n    c = void 0 === b ? [] : b,\n    d = a.designLayer,\n    e = a.annotations,\n    f = a.dispatch,\n    g = useState({\n      left: 0,\n      top: 0\n    }),\n    h = _slicedToArray(g, 2),\n    i = h[0],\n    j = h[1],\n    k = useMemo(function () {\n      var a;\n      return null === d || void 0 === d || null === (a = d.getStage()) || void 0 === a ? void 0 : a.findOne(\"#\".concat(NODES_TRANSFORMER_ID));\n    }, [d]),\n    l = c.length,\n    m = debounce(function () {\n      k && j({\n        left: (k.x() + k.width() / 2) * k.scaleX(),\n        top: (k.y() + k.height()) * k.scaleY()\n      });\n    }, 0);\n  if (useEffect(function () {\n    m();\n  }, [c, k, e]), 0 === l || !k) return null;\n  return React.createElement(StyledNodeControls, {\n    className: \"FIE_annotation-controls-overlay\",\n    left: i.left,\n    top: i.top\n  }, c[0] !== WATERMARK_ANNOTATION_ID && React.createElement(IconButton, {\n    color: \"link\",\n    size: \"sm\",\n    onClick: function duplicateSelectedNodes() {\n      f({\n        type: DUPLICATE_ANNOTATIONS,\n        payload: {\n          annotationsIds: c\n        }\n      });\n    }\n  }, React.createElement(Duplicate, null)), React.createElement(IconButton, {\n    color: \"link\",\n    size: \"sm\",\n    onClick: function removeSelectedNodes() {\n      f({\n        type: REMOVE_ANNOTATIONS,\n        payload: {\n          annotationsIds: c\n        }\n      });\n    }\n  }, React.createElement(DeleteOutline, null)));\n};\nexport default NodeControls;","map":{"version":3,"names":["_slicedToArray","React","useEffect","useMemo","useState","IconButton","DeleteOutline","Duplicate","useStore","DUPLICATE_ANNOTATIONS","REMOVE_ANNOTATIONS","NODES_TRANSFORMER_ID","WATERMARK_ANNOTATION_ID","debounce","StyledNodeControls","NodeControls","a","b","selectionsIds","c","d","designLayer","e","annotations","f","dispatch","g","left","top","h","i","j","k","getStage","findOne","concat","l","length","m","x","width","scaleX","y","height","scaleY","createElement","className","color","size","onClick","duplicateSelectedNodes","type","payload","annotationsIds","removeSelectedNodes"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/react-filerobot-image-editor/lib/components/NodeControls/index.js"],"sourcesContent":["import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useMemo,useState}from\"react\";import IconButton from\"@scaleflex/ui/core/icon-button\";import DeleteOutline from\"@scaleflex/icons/delete-outline\";import Duplicate from\"@scaleflex/icons/duplicate\";import{useStore}from\"../../hooks\";import{DUPLICATE_ANNOTATIONS,REMOVE_ANNOTATIONS}from\"../../actions\";import{NODES_TRANSFORMER_ID,WATERMARK_ANNOTATION_ID}from\"../../utils/constants\";import debounce from\"../../utils/debounce\";import{StyledNodeControls}from\"./NodeControls.styled\";var NodeControls=function(){var a=useStore(),b=a.selectionsIds,c=void 0===b?[]:b,d=a.designLayer,e=a.annotations,f=a.dispatch,g=useState({left:0,top:0}),h=_slicedToArray(g,2),i=h[0],j=h[1],k=useMemo(function(){var a;return null===d||void 0===d||null===(a=d.getStage())||void 0===a?void 0:a.findOne(\"#\".concat(NODES_TRANSFORMER_ID))},[d]),l=c.length,m=debounce(function(){k&&j({left:(k.x()+k.width()/2)*k.scaleX(),top:(k.y()+k.height())*k.scaleY()})},0);if(useEffect(function(){m()},[c,k,e]),0===l||!k)return null;return React.createElement(StyledNodeControls,{className:\"FIE_annotation-controls-overlay\",left:i.left,top:i.top},c[0]!==WATERMARK_ANNOTATION_ID&&React.createElement(IconButton,{color:\"link\",size:\"sm\",onClick:function duplicateSelectedNodes(){f({type:DUPLICATE_ANNOTATIONS,payload:{annotationsIds:c}})}},React.createElement(Duplicate,null)),React.createElement(IconButton,{color:\"link\",size:\"sm\",onClick:function removeSelectedNodes(){f({type:REMOVE_ANNOTATIONS,payload:{annotationsIds:c}})}},React.createElement(DeleteOutline,null)))};export default NodeControls;"],"mappings":"AAAA,OAAOA,cAAc,MAAK,sCAAsC;AAAC,OAAOC,KAAK,IAAEC,SAAS,EAACC,OAAO,EAACC,QAAQ,QAAK,OAAO;AAAC,OAAOC,UAAU,MAAK,gCAAgC;AAAC,OAAOC,aAAa,MAAK,iCAAiC;AAAC,OAAOC,SAAS,MAAK,4BAA4B;AAAC,SAAOC,QAAQ,QAAK,aAAa;AAAC,SAAOC,qBAAqB,EAACC,kBAAkB,QAAK,eAAe;AAAC,SAAOC,oBAAoB,EAACC,uBAAuB,QAAK,uBAAuB;AAAC,OAAOC,QAAQ,MAAK,sBAAsB;AAAC,SAAOC,kBAAkB,QAAK,uBAAuB;AAAC,IAAIC,YAAY,GAAC,SAAAA,CAAA,EAAU;EAAC,IAAIC,CAAC,GAACR,QAAQ,EAAE;IAACS,CAAC,GAACD,CAAC,CAACE,aAAa;IAACC,CAAC,GAAC,KAAK,CAAC,KAAGF,CAAC,GAAC,EAAE,GAACA,CAAC;IAACG,CAAC,GAACJ,CAAC,CAACK,WAAW;IAACC,CAAC,GAACN,CAAC,CAACO,WAAW;IAACC,CAAC,GAACR,CAAC,CAACS,QAAQ;IAACC,CAAC,GAACtB,QAAQ,CAAC;MAACuB,IAAI,EAAC,CAAC;MAACC,GAAG,EAAC;IAAC,CAAC,CAAC;IAACC,CAAC,GAAC7B,cAAc,CAAC0B,CAAC,EAAC,CAAC,CAAC;IAACI,CAAC,GAACD,CAAC,CAAC,CAAC,CAAC;IAACE,CAAC,GAACF,CAAC,CAAC,CAAC,CAAC;IAACG,CAAC,GAAC7B,OAAO,CAAC,YAAU;MAAC,IAAIa,CAAC;MAAC,OAAO,IAAI,KAAGI,CAAC,IAAE,KAAK,CAAC,KAAGA,CAAC,IAAE,IAAI,MAAIJ,CAAC,GAACI,CAAC,CAACa,QAAQ,EAAE,CAAC,IAAE,KAAK,CAAC,KAAGjB,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAACkB,OAAO,CAAC,GAAG,CAACC,MAAM,CAACxB,oBAAoB,CAAC,CAAC;IAAA,CAAC,EAAC,CAACS,CAAC,CAAC,CAAC;IAACgB,CAAC,GAACjB,CAAC,CAACkB,MAAM;IAACC,CAAC,GAACzB,QAAQ,CAAC,YAAU;MAACmB,CAAC,IAAED,CAAC,CAAC;QAACJ,IAAI,EAAC,CAACK,CAAC,CAACO,CAAC,EAAE,GAACP,CAAC,CAACQ,KAAK,EAAE,GAAC,CAAC,IAAER,CAAC,CAACS,MAAM,EAAE;QAACb,GAAG,EAAC,CAACI,CAAC,CAACU,CAAC,EAAE,GAACV,CAAC,CAACW,MAAM,EAAE,IAAEX,CAAC,CAACY,MAAM;MAAE,CAAC,CAAC;IAAA,CAAC,EAAC,CAAC,CAAC;EAAC,IAAG1C,SAAS,CAAC,YAAU;IAACoC,CAAC,EAAE;EAAA,CAAC,EAAC,CAACnB,CAAC,EAACa,CAAC,EAACV,CAAC,CAAC,CAAC,EAAC,CAAC,KAAGc,CAAC,IAAE,CAACJ,CAAC,EAAC,OAAO,IAAI;EAAC,OAAO/B,KAAK,CAAC4C,aAAa,CAAC/B,kBAAkB,EAAC;IAACgC,SAAS,EAAC,iCAAiC;IAACnB,IAAI,EAACG,CAAC,CAACH,IAAI;IAACC,GAAG,EAACE,CAAC,CAACF;EAAG,CAAC,EAACT,CAAC,CAAC,CAAC,CAAC,KAAGP,uBAAuB,IAAEX,KAAK,CAAC4C,aAAa,CAACxC,UAAU,EAAC;IAAC0C,KAAK,EAAC,MAAM;IAACC,IAAI,EAAC,IAAI;IAACC,OAAO,EAAC,SAASC,sBAAsBA,CAAA,EAAE;MAAC1B,CAAC,CAAC;QAAC2B,IAAI,EAAC1C,qBAAqB;QAAC2C,OAAO,EAAC;UAACC,cAAc,EAAClC;QAAC;MAAC,CAAC,CAAC;IAAA;EAAC,CAAC,EAAClB,KAAK,CAAC4C,aAAa,CAACtC,SAAS,EAAC,IAAI,CAAC,CAAC,EAACN,KAAK,CAAC4C,aAAa,CAACxC,UAAU,EAAC;IAAC0C,KAAK,EAAC,MAAM;IAACC,IAAI,EAAC,IAAI;IAACC,OAAO,EAAC,SAASK,mBAAmBA,CAAA,EAAE;MAAC9B,CAAC,CAAC;QAAC2B,IAAI,EAACzC,kBAAkB;QAAC0C,OAAO,EAAC;UAACC,cAAc,EAAClC;QAAC;MAAC,CAAC,CAAC;IAAA;EAAC,CAAC,EAAClB,KAAK,CAAC4C,aAAa,CAACvC,aAAa,EAAC,IAAI,CAAC,CAAC,CAAC;AAAA,CAAC;AAAC,eAAeS,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}