{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport defaultTranslations from \"../context/defaultTranslations\";\nimport { TRANSLATIONS_GRID_UUID } from \"./constants\";\nvar backendTranslations = {},\n  activatedTranslations = _objectSpread({}, defaultTranslations),\n  hardcodedErrorMsg = \"Error while loading translations from backend.\";\nexport var updateTranslations = function () {\n  var a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : {},\n    b = 1 < arguments.length && arguments[1] !== void 0 ? arguments[1] : \"en\";\n  return Object.assign(activatedTranslations, backendTranslations[null === b || void 0 === b ? void 0 : b.toLowerCase()] || {}, a);\n};\nvar sendMissingTranslationsToBackend = function () {\n  var a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : [];\n  return new Promise(function (b, c) {\n    var d = new XMLHttpRequest();\n    d.responseType = \"json\", d.onload = function () {\n      if (200 <= d.status && 300 > d.status) b(d.response);else {\n        var a;\n        console.warn(\"Error in sending translation key to backend \".concat(null === (a = d.response) || void 0 === a ? void 0 : a.hint, \", \").concat(d.status)), c();\n      }\n    }, d.onerror = function () {\n      var a;\n      console.warn(\"Error in sending translation key to backend \".concat(null === (a = d.response) || void 0 === a ? void 0 : a.hint, \", \").concat(d.status)), c();\n    };\n    d.open(\"POST\", \"https://neo.wordplex.io/api/import/request-translations?grid_uuid=\".concat(TRANSLATIONS_GRID_UUID)), d.send(JSON.stringify({\n      grid_uuid: TRANSLATIONS_GRID_UUID,\n      translations_requests: a\n    }));\n  });\n};\nexport var getBackendTranslations = function () {\n  var a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : \"en\",\n    b = 1 < arguments.length ? arguments[1] : void 0;\n  return new Promise(function (c, d) {\n    var e = a.toLowerCase(),\n      f = new XMLHttpRequest();\n    f.responseType = \"json\", f.onload = function () {\n      if (200 <= f.status && 300 > f.status) {\n        (f.response || []).forEach(function (a) {\n          backendTranslations[e] = _objectSpread(_objectSpread({}, backendTranslations[e]), {}, _defineProperty({}, a.translation_key, a.translations[e]));\n        });\n        var i = [];\n        Object.keys(defaultTranslations).forEach(function (a) {\n          var b;\n          a && !(null !== (b = backendTranslations[e]) && void 0 !== b && b[a]) && i.push({\n            key: a,\n            lang: e,\n            default: defaultTranslations[a]\n          });\n        }), 0 < i.length && sendMissingTranslationsToBackend(i), updateTranslations(b, e), c(activatedTranslations);\n      } else {\n        var a, g, h;\n        console.error(\"Status code: \".concat(f.status)), console.error((null === (a = f.response) || void 0 === a ? void 0 : a.msg) || (null === (g = f.response) || void 0 === g ? void 0 : g.msg) || (null === (h = f.response) || void 0 === h ? void 0 : h.details) || hardcodedErrorMsg), d();\n      }\n    }, f.onerror = function () {\n      console.error(\"Status code \".concat(f.status, \", error: \").concat(hardcodedErrorMsg)), d();\n    }, f.open(\"GET\", \"https://i18n.ultrafast.io/api/export?grid=\".concat(TRANSLATIONS_GRID_UUID)), f.send();\n  });\n};\nexport var translate = function (a) {\n  return activatedTranslations[a] || a || \"\";\n};","map":{"version":3,"names":["_defineProperty","ownKeys","a","b","c","Object","keys","getOwnPropertySymbols","d","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","defaultTranslations","TRANSLATIONS_GRID_UUID","backendTranslations","activatedTranslations","hardcodedErrorMsg","updateTranslations","assign","toLowerCase","sendMissingTranslationsToBackend","Promise","XMLHttpRequest","responseType","onload","status","response","console","warn","concat","hint","onerror","open","send","JSON","stringify","grid_uuid","translations_requests","getBackendTranslations","e","f","translation_key","translations","i","key","lang","default","g","h","error","msg","details","translate"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/react-filerobot-image-editor/lib/utils/translator.js"],"sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import defaultTranslations from\"../context/defaultTranslations\";import{TRANSLATIONS_GRID_UUID}from\"./constants\";var backendTranslations={},activatedTranslations=_objectSpread({},defaultTranslations),hardcodedErrorMsg=\"Error while loading translations from backend.\";export var updateTranslations=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:\"en\";return Object.assign(activatedTranslations,backendTranslations[null===b||void 0===b?void 0:b.toLowerCase()]||{},a)};var sendMissingTranslationsToBackend=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return new Promise(function(b,c){var d=new XMLHttpRequest;d.responseType=\"json\",d.onload=function(){if(200<=d.status&&300>d.status)b(d.response);else{var a;console.warn(\"Error in sending translation key to backend \".concat(null===(a=d.response)||void 0===a?void 0:a.hint,\", \").concat(d.status)),c()}},d.onerror=function(){var a;console.warn(\"Error in sending translation key to backend \".concat(null===(a=d.response)||void 0===a?void 0:a.hint,\", \").concat(d.status)),c()};d.open(\"POST\",\"https://neo.wordplex.io/api/import/request-translations?grid_uuid=\".concat(TRANSLATIONS_GRID_UUID)),d.send(JSON.stringify({grid_uuid:TRANSLATIONS_GRID_UUID,translations_requests:a}))})};export var getBackendTranslations=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:\"en\",b=1<arguments.length?arguments[1]:void 0;return new Promise(function(c,d){var e=a.toLowerCase(),f=new XMLHttpRequest;f.responseType=\"json\",f.onload=function(){if(200<=f.status&&300>f.status){(f.response||[]).forEach(function(a){backendTranslations[e]=_objectSpread(_objectSpread({},backendTranslations[e]),{},_defineProperty({},a.translation_key,a.translations[e]))});var i=[];Object.keys(defaultTranslations).forEach(function(a){var b;a&&!(null!==(b=backendTranslations[e])&&void 0!==b&&b[a])&&i.push({key:a,lang:e,default:defaultTranslations[a]})}),0<i.length&&sendMissingTranslationsToBackend(i),updateTranslations(b,e),c(activatedTranslations)}else{var a,g,h;console.error(\"Status code: \".concat(f.status)),console.error((null===(a=f.response)||void 0===a?void 0:a.msg)||(null===(g=f.response)||void 0===g?void 0:g.msg)||(null===(h=f.response)||void 0===h?void 0:h.details)||hardcodedErrorMsg),d()}},f.onerror=function(){console.error(\"Status code \".concat(f.status,\", error: \").concat(hardcodedErrorMsg)),d()},f.open(\"GET\",\"https://i18n.ultrafast.io/api/export?grid=\".concat(TRANSLATIONS_GRID_UUID)),f.send()})};export var translate=function(a){return activatedTranslations[a]||a||\"\"};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}