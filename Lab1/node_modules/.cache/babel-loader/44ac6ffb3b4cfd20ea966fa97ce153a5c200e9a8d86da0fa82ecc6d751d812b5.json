{"ast":null,"code":"/**\n * Module dependencies.\n */\n\nvar escape = require('./utils').escape;\n\n/**\n * Extend proto.\n */\n\nmodule.exports = function (proto) {\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-fill\n  proto.fill = function fill(color) {\n    return this.out(\"-fill\", color || \"none\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stroke\n  proto.stroke = function stroke(color, width) {\n    if (width) {\n      this.strokeWidth(width);\n    }\n    return this.out(\"-stroke\", color || \"none\");\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-strokewidth\n  proto.strokeWidth = function strokeWidth(width) {\n    return this.out(\"-strokewidth\", width);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-font\n  proto.font = function font(font, size) {\n    if (size) {\n      this.fontSize(size);\n    }\n    return this.out(\"-font\", font);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.fontSize = function fontSize(size) {\n    return this.out(\"-pointsize\", size);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.draw = function draw(args) {\n    return this.out(\"-draw\", [].slice.call(arguments).join(\" \"));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawPoint = function drawPoint(x, y) {\n    return this.draw(\"point\", x + \",\" + y);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawLine = function drawLine(x0, y0, x1, y1) {\n    return this.draw(\"line\", x0 + \",\" + y0, x1 + \",\" + y1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawRectangle = function drawRectangle(x0, y0, x1, y1, wc, hc) {\n    var shape = \"rectangle\",\n      lastarg;\n    if (\"undefined\" !== typeof wc) {\n      shape = \"roundRectangle\";\n      if (\"undefined\" === typeof hc) {\n        hc = wc;\n      }\n      lastarg = wc + \",\" + hc;\n    }\n    return this.draw(shape, x0 + \",\" + y0, x1 + \",\" + y1, lastarg);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawArc = function drawArc(x0, y0, x1, y1, a0, a1) {\n    return this.draw(\"arc\", x0 + \",\" + y0, x1 + \",\" + y1, a0 + \",\" + a1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawEllipse = function drawEllipse(x0, y0, rx, ry, a0, a1) {\n    if (a0 == undefined) a0 = 0;\n    if (a1 == undefined) a1 = 360;\n    return this.draw(\"ellipse\", x0 + \",\" + y0, rx + \",\" + ry, a0 + \",\" + a1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawCircle = function drawCircle(x0, y0, x1, y1) {\n    return this.draw(\"circle\", x0 + \",\" + y0, x1 + \",\" + y1);\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawPolyline = function drawPolyline() {\n    return this.draw(\"polyline\", formatPoints(arguments));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawPolygon = function drawPolygon() {\n    return this.draw(\"polygon\", formatPoints(arguments));\n  };\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawBezier = function drawBezier() {\n    return this.draw(\"bezier\", formatPoints(arguments));\n  };\n  proto._gravities = [\"northwest\", \"north\", \"northeast\", \"west\", \"center\", \"east\", \"southwest\", \"south\", \"southeast\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawText = function drawText(x0, y0, text, gravity) {\n    var gravity = String(gravity || \"\").toLowerCase(),\n      arg = [\"text \" + x0 + \",\" + y0 + \" \" + escape(text)];\n    if (~this._gravities.indexOf(gravity)) {\n      arg.unshift(\"gravity\", gravity);\n    }\n    return this.draw.apply(this, arg);\n  };\n  proto._drawProps = [\"color\", \"matte\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.setDraw = function setDraw(prop, x, y, method) {\n    prop = String(prop || \"\").toLowerCase();\n    if (!~this._drawProps.indexOf(prop)) {\n      return this;\n    }\n    return this.draw(prop, x + \",\" + y, method);\n  };\n};\nfunction formatPoints(points) {\n  var len = points.length,\n    result = [],\n    i = 0;\n  for (; i < len; ++i) {\n    result.push(points[i].join(\",\"));\n  }\n  return result;\n}","map":{"version":3,"names":["escape","require","module","exports","proto","fill","color","out","stroke","width","strokeWidth","font","size","fontSize","draw","args","slice","call","arguments","join","drawPoint","x","y","drawLine","x0","y0","x1","y1","drawRectangle","wc","hc","shape","lastarg","drawArc","a0","a1","drawEllipse","rx","ry","undefined","drawCircle","drawPolyline","formatPoints","drawPolygon","drawBezier","_gravities","drawText","text","gravity","String","toLowerCase","arg","indexOf","unshift","apply","_drawProps","setDraw","prop","method","points","len","length","result","i","push"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/gm/lib/drawing.js"],"sourcesContent":["\n/**\n * Module dependencies.\n */\n\nvar escape = require('./utils').escape;\n\n/**\n * Extend proto.\n */\n\nmodule.exports = function (proto) {\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-fill\n  proto.fill = function fill (color) {\n    return this.out(\"-fill\", color || \"none\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-stroke\n  proto.stroke = function stroke (color, width) {\n    if (width) {\n      this.strokeWidth(width);\n    }\n\n    return this.out(\"-stroke\", color || \"none\");\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-strokewidth\n  proto.strokeWidth = function strokeWidth (width) {\n    return this.out(\"-strokewidth\", width);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-font\n  proto.font = function font (font, size) {\n    if (size) {\n      this.fontSize(size);\n    }\n\n    return this.out(\"-font\", font);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html\n  proto.fontSize = function fontSize (size) {\n    return this.out(\"-pointsize\", size);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.draw = function draw (args) {\n    return this.out(\"-draw\", [].slice.call(arguments).join(\" \"));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawPoint = function drawPoint (x, y) {\n    return this.draw(\"point\", x +\",\"+ y);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawLine = function drawLine (x0, y0, x1, y1) {\n    return this.draw(\"line\", x0+\",\"+y0, x1+\",\"+y1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawRectangle = function drawRectangle (x0, y0, x1, y1, wc, hc) {\n    var shape = \"rectangle\"\n      , lastarg;\n\n    if (\"undefined\" !== typeof wc) {\n      shape = \"roundRectangle\";\n\n      if (\"undefined\" === typeof hc) {\n        hc = wc;\n      }\n\n      lastarg = wc+\",\"+hc;\n    }\n\n    return this.draw(shape, x0+\",\"+y0, x1+\",\"+y1, lastarg);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawArc = function drawArc (x0, y0, x1, y1, a0, a1) {\n    return this.draw(\"arc\", x0+\",\"+y0, x1+\",\"+y1, a0+\",\"+a1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawEllipse = function drawEllipse (x0, y0, rx, ry, a0, a1) {\n    if (a0 == undefined) a0 = 0;\n    if (a1 == undefined) a1 = 360;\n    return this.draw(\"ellipse\", x0+\",\"+y0, rx+\",\"+ry, a0+\",\"+a1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawCircle = function drawCircle (x0, y0, x1, y1) {\n    return this.draw(\"circle\", x0+\",\"+y0, x1+\",\"+y1);\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawPolyline = function drawPolyline () {\n    return this.draw(\"polyline\", formatPoints(arguments));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawPolygon = function drawPolygon () {\n    return this.draw(\"polygon\", formatPoints(arguments));\n  }\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawBezier = function drawBezier () {\n    return this.draw(\"bezier\", formatPoints(arguments));\n  }\n\n  proto._gravities = [\n      \"northwest\"\n\t  , \"north\"\n    , \"northeast\"\n\t  , \"west\"\n    , \"center\"\n\t  , \"east\"\n    , \"southwest\"\n    , \"south\"\n    , \"southeast\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.drawText = function drawText (x0, y0, text, gravity) {\n    var gravity = String(gravity || \"\").toLowerCase()\n      , arg = [\"text \" + x0 + \",\" + y0 + \" \" + escape(text)];\n\n    if (~this._gravities.indexOf(gravity)) {\n      arg.unshift(\"gravity\", gravity);\n    }\n\n    return this.draw.apply(this, arg);\n  }\n\n  proto._drawProps = [\"color\", \"matte\"];\n\n  // http://www.graphicsmagick.org/GraphicsMagick.html#details-draw\n  proto.setDraw = function setDraw (prop, x, y, method) {\n    prop = String(prop || \"\").toLowerCase();\n\n    if (!~this._drawProps.indexOf(prop)) {\n      return this;\n    }\n\n    return this.draw(prop, x+\",\"+y, method);\n  }\n\n}\n\nfunction formatPoints (points) {\n  var len = points.length\n    , result = []\n    , i = 0;\n\n  for (; i < len; ++i) {\n    result.push(points[i].join(\",\"));\n  }\n\n  return result;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}