{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React from \"react\";\nimport Button from \"@scaleflex/ui/core/button\";\nimport LockOutline from \"@scaleflex/icons/lock-outline\";\nimport UnlockOutline from \"@scaleflex/icons/unlock-outline\";\nimport { SET_RESIZE, ZOOM_CANVAS } from \"../../../actions\";\nimport restrictNumber from \"../../../utils/restrictNumber\";\nimport { useStore } from \"../../../hooks\";\nimport getProperDimensions from \"../../../utils/getProperDimensions\";\nimport getSizeAfterRotation from \"../../../utils/getSizeAfterRotation\";\nimport getZoomFitFactor from \"../../../utils/getZoomFitFactor\";\nimport { StyledResizeWrapper, StyledResizeInput, StyledRatioLockIcon, StyledXLabel } from \"./Resize.styled\";\nvar Resize = function (a) {\n  var b = a.onChange,\n    c = a.currentSize,\n    d = a.hideResetButton,\n    e = a.alignLeft,\n    f = useStore(),\n    g = f.dispatch,\n    h = f.originalImage,\n    i = f.resize,\n    j = f.shownImageDimensions,\n    k = f.adjustments,\n    l = k.crop,\n    m = k.rotation,\n    n = void 0 === m ? 0 : m,\n    o = f.theme,\n    p = f.t,\n    q = function (a) {\n      var d,\n        e = a.target,\n        f = e.name,\n        k = e.value,\n        m = getSizeAfterRotation(h.width, h.height, n),\n        o = _defineProperty({}, f, restrictNumber(k, 1)),\n        p = \"height\" === f,\n        q = p ? \"width\" : \"height\",\n        r = null !== (d = c.ratioUnlocked) && void 0 !== d ? d : i.ratioUnlocked;\n      if (!r) {\n        var s = m.width / m.height;\n        o[q] = p ? Math.round(o[f] * s) : Math.round(o[f] / s);\n      }\n      if (o[f] !== i[f] || o[q] !== i[q]) {\n        if (\"function\" == typeof b) return void b(o);\n        if (g({\n          type: SET_RESIZE,\n          payload: o\n        }), !i.width || !i.height) {\n          var t = l.width && l.height && l || j;\n          g({\n            type: ZOOM_CANVAS,\n            payload: {\n              factor: getZoomFitFactor(t, o)\n            }\n          });\n        }\n      }\n    },\n    r = !i.width && !i.height || h.width === i.width && h.height === i.height,\n    s = getProperDimensions((c.width || c.height) && c || i, l, j, h, n),\n    t = i.manualChangeDisabled;\n  return React.createElement(StyledResizeWrapper, {\n    className: \"FIE_resize-tool-options\",\n    alignLeft: e\n  }, React.createElement(StyledResizeInput, {\n    className: \"FIE_resize-width-option\",\n    value: s.width,\n    name: \"width\",\n    onChange: t ? void 0 : q,\n    inputMode: \"numeric\",\n    title: p(\"resizeWidthTitle\"),\n    type: \"number\",\n    size: \"sm\",\n    placeholder: \"Width\",\n    noLeftMargin: e,\n    disabled: t\n  }), React.createElement(StyledXLabel, {\n    className: \"FIE_resize-x-label\"\n  }, \"x\"), React.createElement(StyledResizeInput, {\n    className: \"FIE_resize-height-option\",\n    value: s.height,\n    name: \"height\",\n    onChange: t ? void 0 : q,\n    inputMode: \"numeric\",\n    title: p(\"resizeHeightTitle\"),\n    type: \"number\",\n    size: \"sm\",\n    placeholder: \"Height\",\n    disabled: t\n  }), React.createElement(StyledRatioLockIcon, {\n    className: \"FIE_resize-ratio-locker\",\n    title: p(\"toggleRatioLockTitle\"),\n    onClick: t ? void 0 : function toggleRatioLock() {\n      return \"function\" == typeof b ? void b({\n        ratioUnlocked: !c.ratioUnlocked\n      }) : void g({\n        type: SET_RESIZE,\n        payload: {\n          ratioUnlocked: !i.ratioUnlocked\n        }\n      });\n    },\n    color: \"link\",\n    size: \"sm\",\n    disabled: t\n  }, c.ratioUnlocked || i.ratioUnlocked ? React.createElement(UnlockOutline, {\n    color: o.palette[\"icons-secondary\"]\n  }) : React.createElement(LockOutline, {\n    color: o.palette[\"icons-secondary\"]\n  })), !d && React.createElement(Button, {\n    className: \"FIE_resize-reset-button\",\n    size: \"sm\",\n    onClick: r || t ? void 0 : function resetResize() {\n      g({\n        type: SET_RESIZE,\n        payload: {\n          width: null,\n          height: null,\n          ratioUnlocked: !1\n        }\n      });\n      var a = l.width && l.height && l || j;\n      g({\n        type: ZOOM_CANVAS,\n        payload: {\n          factor: getZoomFitFactor(a, a)\n        }\n      });\n    },\n    disabled: r || t,\n    title: p(\"resetSize\")\n  }, p(\"reset\")));\n};\nResize.defaultProps = {\n  onChange: void 0,\n  currentSize: {},\n  hideResetButton: !1,\n  alignLeft: !1\n};\nexport default Resize;","map":{"version":3,"names":["_defineProperty","React","Button","LockOutline","UnlockOutline","SET_RESIZE","ZOOM_CANVAS","restrictNumber","useStore","getProperDimensions","getSizeAfterRotation","getZoomFitFactor","StyledResizeWrapper","StyledResizeInput","StyledRatioLockIcon","StyledXLabel","Resize","a","b","onChange","c","currentSize","d","hideResetButton","e","alignLeft","f","g","dispatch","h","originalImage","i","resize","j","shownImageDimensions","k","adjustments","l","crop","m","rotation","n","o","theme","p","t","q","target","name","value","width","height","r","ratioUnlocked","s","Math","round","type","payload","factor","manualChangeDisabled","createElement","className","inputMode","title","size","placeholder","noLeftMargin","disabled","onClick","toggleRatioLock","color","palette","resetResize","defaultProps"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/react-filerobot-image-editor/lib/components/tools/Resize/Resize.js"],"sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import React from\"react\";import Button from\"@scaleflex/ui/core/button\";import LockOutline from\"@scaleflex/icons/lock-outline\";import UnlockOutline from\"@scaleflex/icons/unlock-outline\";import{SET_RESIZE,ZOOM_CANVAS}from\"../../../actions\";import restrictNumber from\"../../../utils/restrictNumber\";import{useStore}from\"../../../hooks\";import getProperDimensions from\"../../../utils/getProperDimensions\";import getSizeAfterRotation from\"../../../utils/getSizeAfterRotation\";import getZoomFitFactor from\"../../../utils/getZoomFitFactor\";import{StyledResizeWrapper,StyledResizeInput,StyledRatioLockIcon,StyledXLabel}from\"./Resize.styled\";var Resize=function(a){var b=a.onChange,c=a.currentSize,d=a.hideResetButton,e=a.alignLeft,f=useStore(),g=f.dispatch,h=f.originalImage,i=f.resize,j=f.shownImageDimensions,k=f.adjustments,l=k.crop,m=k.rotation,n=void 0===m?0:m,o=f.theme,p=f.t,q=function(a){var d,e=a.target,f=e.name,k=e.value,m=getSizeAfterRotation(h.width,h.height,n),o=_defineProperty({},f,restrictNumber(k,1)),p=\"height\"===f,q=p?\"width\":\"height\",r=null!==(d=c.ratioUnlocked)&&void 0!==d?d:i.ratioUnlocked;if(!r){var s=m.width/m.height;o[q]=p?Math.round(o[f]*s):Math.round(o[f]/s)}if(o[f]!==i[f]||o[q]!==i[q]){if(\"function\"==typeof b)return void b(o);if(g({type:SET_RESIZE,payload:o}),!i.width||!i.height){var t=l.width&&l.height&&l||j;g({type:ZOOM_CANVAS,payload:{factor:getZoomFitFactor(t,o)}})}}},r=!i.width&&!i.height||h.width===i.width&&h.height===i.height,s=getProperDimensions((c.width||c.height)&&c||i,l,j,h,n),t=i.manualChangeDisabled;return React.createElement(StyledResizeWrapper,{className:\"FIE_resize-tool-options\",alignLeft:e},React.createElement(StyledResizeInput,{className:\"FIE_resize-width-option\",value:s.width,name:\"width\",onChange:t?void 0:q,inputMode:\"numeric\",title:p(\"resizeWidthTitle\"),type:\"number\",size:\"sm\",placeholder:\"Width\",noLeftMargin:e,disabled:t}),React.createElement(StyledXLabel,{className:\"FIE_resize-x-label\"},\"x\"),React.createElement(StyledResizeInput,{className:\"FIE_resize-height-option\",value:s.height,name:\"height\",onChange:t?void 0:q,inputMode:\"numeric\",title:p(\"resizeHeightTitle\"),type:\"number\",size:\"sm\",placeholder:\"Height\",disabled:t}),React.createElement(StyledRatioLockIcon,{className:\"FIE_resize-ratio-locker\",title:p(\"toggleRatioLockTitle\"),onClick:t?void 0:function toggleRatioLock(){return\"function\"==typeof b?void b({ratioUnlocked:!c.ratioUnlocked}):void g({type:SET_RESIZE,payload:{ratioUnlocked:!i.ratioUnlocked}})},color:\"link\",size:\"sm\",disabled:t},c.ratioUnlocked||i.ratioUnlocked?React.createElement(UnlockOutline,{color:o.palette[\"icons-secondary\"]}):React.createElement(LockOutline,{color:o.palette[\"icons-secondary\"]})),!d&&React.createElement(Button,{className:\"FIE_resize-reset-button\",size:\"sm\",onClick:r||t?void 0:function resetResize(){g({type:SET_RESIZE,payload:{width:null,height:null,ratioUnlocked:!1}});var a=l.width&&l.height&&l||j;g({type:ZOOM_CANVAS,payload:{factor:getZoomFitFactor(a,a)}})},disabled:r||t,title:p(\"resetSize\")},p(\"reset\")))};Resize.defaultProps={onChange:void 0,currentSize:{},hideResetButton:!1,alignLeft:!1};export default Resize;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}