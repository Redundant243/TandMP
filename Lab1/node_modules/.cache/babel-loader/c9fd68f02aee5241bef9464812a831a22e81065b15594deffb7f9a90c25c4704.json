{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"defaultColor\", \"onChange\", \"pinnedColors\", \"showTransparentColor\"];\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nimport React, { useState, useMemo, useEffect } from 'react';\nimport PT from 'prop-types';\nimport { PinOutline, DeleteOutline } from '@scaleflex/icons';\nimport Select from '../select';\nimport MenuItem from '../menu-item';\nimport Input from '../input';\nimport useDrag from '../../hooks/use-drag';\nimport { intrinsicComponent, colorToHsl, hexToRgb, hslToHex, hslToHsv, hsvToHsl, restrictNumber, mapNumber, colorToHex, getElemDocumentCoords, rgbToHex, validateHex, rgbStringToArray } from '../../utils/functions';\nimport Styled from './color-picker.styles';\nimport ColorItem from './color-item.component';\nvar transparentColor = ['rgba(0,0,0,0)'];\nvar transparentColorHex = '#00000000';\nvar colorsHuesCount = 360;\nvar ColorPicker = intrinsicComponent(function (_ref, ref) {\n  var _ref$defaultColor = _ref.defaultColor,\n    defaultColor = _ref$defaultColor === void 0 ? '#000000' : _ref$defaultColor,\n    onChange = _ref.onChange,\n    _ref$pinnedColors = _ref.pinnedColors,\n    pinnedColors = _ref$pinnedColors === void 0 ? [] : _ref$pinnedColors,\n    _ref$showTransparentC = _ref.showTransparentColor,\n    showTransparentColor = _ref$showTransparentC === void 0 ? false : _ref$showTransparentC,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var showedColors = showTransparentColor ? transparentColor.concat(pinnedColors) : pinnedColors;\n  var isTransparentColor = function isTransparentColor(color) {\n    return color === transparentColorHex || color === transparentColor[0];\n  };\n  var _useState = useState({\n      color: '#ff0000',\n      pointerLeft: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    bar = _useState2[0],\n    setBar = _useState2[1];\n  var _useState3 = useState({\n      color: isTransparentColor(defaultColor) ? '#00000000' : colorToHex(defaultColor) || '#000000',\n      pointer: {\n        left: 0,\n        top: 0\n      }\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    rangePicker = _useState4[0],\n    setRangePicker = _useState4[1];\n  var _useState5 = useState(showedColors),\n    _useState6 = _slicedToArray(_useState5, 2),\n    localPinnedColors = _useState6[0],\n    setLocalPinnedColors = _useState6[1];\n  var _useState7 = useState('hex'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    inputType = _useState8[0],\n    setInputType = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    rgbColorValue = _useState10[0],\n    setRgbColorValue = _useState10[1];\n  var _useState11 = useState(colorToHex(rangePicker.color)),\n    _useState12 = _slicedToArray(_useState11, 2),\n    hexInputValue = _useState12[0],\n    setHexInputValue = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    barRef = _useState14[0],\n    setBarRef = _useState14[1];\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    rangePickerRef = _useState16[0],\n    setRangePickerRef = _useState16[1];\n  var isColorChecked = function isColorChecked(checkedColor) {\n    if (checkedColor === transparentColor[0] && rangePicker.color === transparentColorHex) {\n      return true;\n    }\n    return checkedColor === rangePicker.color;\n  };\n  var filterTransparentColor = function filterTransparentColor(colors) {\n    return colors.filter(function (item) {\n      return item !== 'rgba(0,0,0,0)';\n    });\n  };\n  var getRgbColor = function getRgbColor(color) {\n    return isTransparentColor(color) ? transparentColor[0] : \"rgb(\".concat(hexToRgb(color).join(', '), \")\");\n  };\n  var handlePinnedColors = function handlePinnedColors(hexColor, type) {\n    if (type === 'add') {\n      var newLocalPinnedColors = [].concat(_toConsumableArray(localPinnedColors), [hexColor]);\n      setLocalPinnedColors(newLocalPinnedColors);\n      if (typeof onChange === 'function') {\n        onChange(rangePicker.color, getRgbColor(hexColor), filterTransparentColor(newLocalPinnedColors));\n      }\n    } else {\n      var _newLocalPinnedColors = localPinnedColors.filter(function (item) {\n        return item !== rangePicker.color;\n      });\n      setLocalPinnedColors(_newLocalPinnedColors);\n      if (typeof onChange === 'function') {\n        onChange(rangePicker.color, getRgbColor(hexColor), filterTransparentColor(_newLocalPinnedColors));\n      }\n    }\n  };\n  var changeBarPosByColor = function changeBarPosByColor(color) {\n    if (barRef !== null) {\n      var _ref2 = getElemDocumentCoords(barRef),\n        left = _ref2.left;\n      var _colorToHsl = colorToHsl(color || rangePicker.color),\n        _colorToHsl2 = _slicedToArray(_colorToHsl, 1),\n        h = _colorToHsl2[0];\n      var targetColorElem = barRef.querySelector(\"[data-hue='\".concat(h, \"']\"));\n      if (targetColorElem !== null) {\n        var targetColorRgb = targetColorElem.style.backgroundColor || bar.color;\n        setBar({\n          color: targetColorRgb,\n          pointerLeft: getElemDocumentCoords(targetColorElem).left - left || bar.pointerLeft\n        });\n      }\n    }\n  };\n  var handleRgbInput = function handleRgbInput(value, index) {\n    if (value > 255 || Number.isNaN(value)) {\n      return;\n    }\n    var rgbArr = rgbColorValue;\n    rgbArr[index] = value;\n    var newHexColor = rgbToHex.apply(void 0, _toConsumableArray(rgbArr));\n    setRgbColorValue(_toConsumableArray(rgbArr));\n    if (validateHex(newHexColor)) {\n      setRangePicker(_objectSpread(_objectSpread({}, rangePicker), {}, {\n        color: newHexColor\n      }));\n      changeBarPosByColor(newHexColor);\n    }\n  };\n  var updateRgb = function updateRgb(color) {\n    if (color.includes('rgb')) {\n      setRgbColorValue(rgbStringToArray(color));\n    } else {\n      setRgbColorValue(hexToRgb(color));\n    }\n  };\n  var getHexColor = function getHexColor(color) {\n    return isTransparentColor(color) ? transparentColorHex : color;\n  };\n  var changeRangePickerPointerPosByColor = function changeRangePickerPointerPosByColor(color) {\n    if (rangePickerRef !== null) {\n      var _ref3 = getElemDocumentCoords(rangePickerRef),\n        width = _ref3.width,\n        height = _ref3.height;\n      var colorHsl = colorToHsl(color);\n      var colorHsv = hslToHsv(colorHsl[0], colorHsl[1] / 100, colorHsl[2] / 100);\n      var left = mapNumber(colorHsv[1], 0, 100, 0, width);\n      var top = height - mapNumber(colorHsv[2], 0, 100, 0, height);\n      setRangePicker({\n        color: getHexColor(color),\n        pointer: {\n          left: left,\n          top: top\n        }\n      });\n      changeBarPosByColor(color);\n      updateRgb(color);\n      if (typeof onChange === 'function') {\n        onChange(getHexColor(color), getRgbColor(color), filterTransparentColor(localPinnedColors));\n      }\n    }\n  };\n  var changeRangePickerColorByPosition = function changeRangePickerColorByPosition(left, top, barColor) {\n    if (rangePickerRef !== null) {\n      var _ref4 = getElemDocumentCoords(rangePickerRef),\n        width = _ref4.width,\n        height = _ref4.height;\n      var _colorToHsl3 = colorToHsl(barColor),\n        _colorToHsl4 = _slicedToArray(_colorToHsl3, 1),\n        barColorHue = _colorToHsl4[0];\n      var restrictedLeft = restrictNumber(left, 0, width) || 0;\n      var restrictedTop = restrictNumber(top, 0, height) || 0;\n      var hsl = hsvToHsl(barColorHue, restrictedLeft / width, (height - restrictedTop) / height);\n      var hexColor = hslToHex(hsl[0], hsl[1], hsl[2]);\n      setRangePicker({\n        color: hexColor,\n        pointer: {\n          left: restrictedLeft,\n          top: restrictedTop\n        }\n      });\n      if (typeof onChange === 'function') {\n        onChange(hexColor, \"rgb(\".concat(hexToRgb(hexColor).join(', '), \")\"), filterTransparentColor(localPinnedColors));\n      }\n    }\n  };\n  var changeBarColorByPosition = function changeBarColorByPosition(pointerLeft) {\n    var barElem = barRef;\n    if (barElem !== null) {\n      var _ref5 = getElemDocumentCoords(barElem),\n        width = _ref5.width;\n      var mappedPointerLeft = restrictNumber(Math.round(mapNumber(pointerLeft, 0, width, 0, colorsHuesCount)), 0, colorsHuesCount);\n      var targetColorElem = barElem.querySelector(\"[data-hue='\".concat(mappedPointerLeft, \"']\"));\n      var targetColorRgb = targetColorElem.style.backgroundColor;\n      setBar({\n        color: targetColorRgb,\n        pointerLeft: restrictNumber(pointerLeft, 0, width)\n      });\n      return targetColorRgb;\n    }\n    return bar.color;\n  };\n  var updateBarColor = function updateBarColor(e) {\n    var barElem = barRef;\n    if (barElem !== null) {\n      var _e$touches;\n      var _ref6 = getElemDocumentCoords(barElem),\n        left = _ref6.left;\n      var pointerEvent = ((_e$touches = e.touches) === null || _e$touches === void 0 ? void 0 : _e$touches[0]) || e;\n      var barColor = changeBarColorByPosition(pointerEvent.pageX - left);\n      changeRangePickerColorByPosition(rangePicker.pointer.left, rangePicker.pointer.top, barColor);\n    }\n  };\n  var updateRangePickerColor = function updateRangePickerColor(e) {\n    var rangePickerElem = rangePickerRef;\n    if (rangePickerElem !== null) {\n      var _ref7 = getElemDocumentCoords(rangePickerElem),\n        left = _ref7.left,\n        top = _ref7.top,\n        height = _ref7.height,\n        width = _ref7.width;\n      var pointerLeft = e ? restrictNumber(e.pageX - left, 0, width) : rangePicker.pointer.left || 0;\n      var pointerTop = e ? restrictNumber(e.pageY - top, 0, height) : rangePicker.pointer.left || 0;\n      changeRangePickerColorByPosition(pointerLeft, pointerTop, bar.color);\n    }\n  };\n  var moveBarPointerByArrows = function moveBarPointerByArrows(e) {\n    if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') {\n      return;\n    }\n    changeBarColorByPosition(bar.pointerLeft + (e.key === 'ArrowLeft' ? -1 : 1));\n  };\n  var moveRangePickerPointerByArrows = function moveRangePickerPointerByArrows(e) {\n    var currentDirection = 0;\n    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {\n      currentDirection = -1;\n    } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {\n      currentDirection = 1;\n    }\n    if (currentDirection) {\n      changeRangePickerColorByPosition((rangePicker.pointer.left || 0) + (['ArrowLeft', 'ArrowRight'].includes(e.key) ? currentDirection : 0), (rangePicker.pointer.top || 0) + (['ArrowUp', 'ArrowDown'].includes(e.key) ? currentDirection : 0), bar.color);\n    }\n  };\n  var validateHexAndUpdate = function validateHexAndUpdate(color) {\n    var testHex = validateHex(color);\n    if (testHex) {\n      changeRangePickerPointerPosByColor(color);\n    }\n    setHexInputValue(color);\n  };\n  useEffect(function () {\n    changeBarPosByColor(rangePicker.color);\n    changeRangePickerPointerPosByColor(rangePicker.color);\n  }, [barRef]);\n  useEffect(function () {\n    setHexInputValue(rangePicker.color);\n    updateRgb(rangePicker.color);\n  }, [rangePicker.color]);\n  var barColors = useMemo(function () {\n    return _toConsumableArray(new Array(colorsHuesCount + 1)).map(function (_, h) {\n      return /*#__PURE__*/React.createElement(Styled.BarColorStop, {\n        key: h,\n        $color: \"hsl(\".concat(h, \", 100%, 50%)\"),\n        \"data-hue\": h\n      });\n    });\n  }, []);\n  var barPointSliding = useDrag(updateBarColor, updateBarColor, null);\n  var rangePickerPointSliding = useDrag(updateRangePickerColor, updateRangePickerColor, null);\n  return /*#__PURE__*/React.createElement(Styled.ColorPickerWrapper, _extends({\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(Styled.RangePickerWrapper, _extends({\n    ref: setRangePickerRef,\n    color: bar.color\n  }, rangePickerPointSliding), /*#__PURE__*/React.createElement(Styled.WhiteGradient, null), /*#__PURE__*/React.createElement(Styled.BlackGradient, null), /*#__PURE__*/React.createElement(Styled.ColorPointer, {\n    tabIndex: -1,\n    left: rangePicker.pointer.left || 0,\n    top: rangePicker.pointer.top || 0,\n    onKeyDown: moveRangePickerPointerByArrows,\n    considerTopWidth: true\n  })), /*#__PURE__*/React.createElement(Styled.BarWrapper, barPointSliding, /*#__PURE__*/React.createElement(Styled.Bar, {\n    ref: setBarRef\n  }, /*#__PURE__*/React.createElement(\"tbody\", null, /*#__PURE__*/React.createElement(\"tr\", null, barColors))), /*#__PURE__*/React.createElement(Styled.ColorPointer, {\n    tabIndex: -1,\n    left: bar.pointerLeft,\n    onKeyDown: moveBarPointerByArrows,\n    considerTopWidth: false,\n    style: {\n      top: -3\n    }\n  })), /*#__PURE__*/React.createElement(Styled.ColorItemsContainer, null, localPinnedColors.map(function (color) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item\",\n      key: color\n    }, /*#__PURE__*/React.createElement(ColorItem, {\n      value: color,\n      checked: isColorChecked(color),\n      onChange: function onChange(ev) {\n        return changeRangePickerPointerPosByColor(ev.target.value);\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(Styled.ColorPickerAction, null, /*#__PURE__*/React.createElement(Styled.Select, {\n    value: inputType\n  }, /*#__PURE__*/React.createElement(Select, {\n    size: \"sm\",\n    value: inputType,\n    MenuProps: {\n      zIndex: 11112\n    },\n    onChange: function onChange(ev) {\n      return setInputType(ev);\n    },\n    fullWidth: true\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"hex\"\n  }, \"Hex\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"rgb\"\n  }, \"RGB\"))), inputType === 'hex' ? /*#__PURE__*/React.createElement(Input, {\n    size: \"sm\",\n    error: !/^#([\\da-f]{3}){1,2}$/i.test(rangePicker.color),\n    value: hexInputValue,\n    onChange: function onChange(e) {\n      return validateHexAndUpdate(e.target.value);\n    },\n    style: {\n      width: '45%'\n    }\n  }) : rgbColorValue.map(function (rgb, index) {\n    return /*#__PURE__*/React.createElement(Input, {\n      key: index,\n      size: \"sm\",\n      value: rgb,\n      onChange: function onChange(e) {\n        var _e$target;\n        return handleRgbInput(Number((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value), index);\n      },\n      style: {\n        width: '20%'\n      }\n    });\n  }), rangePicker.color !== transparentColorHex && /*#__PURE__*/React.createElement(Styled.ColorPickerIcon, {\n    onClick: function onClick() {\n      return localPinnedColors.some(function (checkedColor) {\n        return isColorChecked(checkedColor);\n      }) ? handlePinnedColors(rangePicker.color, 'delete') : handlePinnedColors(rangePicker.color, 'add');\n    }\n  }, localPinnedColors.some(function (checkedColor) {\n    return isColorChecked(checkedColor);\n  }) ? /*#__PURE__*/React.createElement(DeleteOutline, null) : /*#__PURE__*/React.createElement(PinOutline, null))));\n});\nColorPicker.defaultProps = {\n  defaultColor: '#000000',\n  pinnedColors: [],\n  showTransparentColor: false\n};\nColorPicker.propTypes = {\n  defaultColor: PT.string,\n  onChange: PT.func,\n  pinnedColors: PT.array,\n  showTransparentColor: PT.bool\n};\nexport default ColorPicker;","map":{"version":3,"names":["_extends","_defineProperty","_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useState","useMemo","useEffect","PT","PinOutline","DeleteOutline","Select","MenuItem","Input","useDrag","intrinsicComponent","colorToHsl","hexToRgb","hslToHex","hslToHsv","hsvToHsl","restrictNumber","mapNumber","colorToHex","getElemDocumentCoords","rgbToHex","validateHex","rgbStringToArray","Styled","ColorItem","transparentColor","transparentColorHex","colorsHuesCount","ColorPicker","_ref","ref","_ref$defaultColor","defaultColor","onChange","_ref$pinnedColors","pinnedColors","_ref$showTransparentC","showTransparentColor","rest","showedColors","concat","isTransparentColor","color","_useState","pointerLeft","_useState2","bar","setBar","_useState3","pointer","left","top","_useState4","rangePicker","setRangePicker","_useState5","_useState6","localPinnedColors","setLocalPinnedColors","_useState7","_useState8","inputType","setInputType","_useState9","_useState10","rgbColorValue","setRgbColorValue","_useState11","_useState12","hexInputValue","setHexInputValue","_useState13","_useState14","barRef","setBarRef","_useState15","_useState16","rangePickerRef","setRangePickerRef","isColorChecked","checkedColor","filterTransparentColor","colors","item","getRgbColor","join","handlePinnedColors","hexColor","type","newLocalPinnedColors","_newLocalPinnedColors","changeBarPosByColor","_ref2","_colorToHsl","_colorToHsl2","h","targetColorElem","querySelector","targetColorRgb","style","backgroundColor","handleRgbInput","value","index","Number","isNaN","rgbArr","newHexColor","updateRgb","includes","getHexColor","changeRangePickerPointerPosByColor","_ref3","width","height","colorHsl","colorHsv","changeRangePickerColorByPosition","barColor","_ref4","_colorToHsl3","_colorToHsl4","barColorHue","restrictedLeft","restrictedTop","hsl","changeBarColorByPosition","barElem","_ref5","mappedPointerLeft","Math","round","updateBarColor","e","_e$touches","_ref6","pointerEvent","touches","pageX","updateRangePickerColor","rangePickerElem","_ref7","pointerTop","pageY","moveBarPointerByArrows","moveRangePickerPointerByArrows","currentDirection","validateHexAndUpdate","testHex","barColors","Array","map","_","createElement","BarColorStop","$color","barPointSliding","rangePickerPointSliding","ColorPickerWrapper","RangePickerWrapper","WhiteGradient","BlackGradient","ColorPointer","tabIndex","onKeyDown","considerTopWidth","BarWrapper","Bar","ColorItemsContainer","className","checked","ev","ColorPickerAction","size","MenuProps","zIndex","fullWidth","error","test","rgb","_e$target","ColorPickerIcon","onClick","some","defaultProps","propTypes","string","func","array","bool"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/@scaleflex/ui/core/color-picker/color-picker.component.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"defaultColor\", \"onChange\", \"pinnedColors\", \"showTransparentColor\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useMemo, useEffect } from 'react';\nimport PT from 'prop-types';\nimport { PinOutline, DeleteOutline } from '@scaleflex/icons';\nimport Select from '../select';\nimport MenuItem from '../menu-item';\nimport Input from '../input';\nimport useDrag from '../../hooks/use-drag';\nimport { intrinsicComponent, colorToHsl, hexToRgb, hslToHex, hslToHsv, hsvToHsl, restrictNumber, mapNumber, colorToHex, getElemDocumentCoords, rgbToHex, validateHex, rgbStringToArray } from '../../utils/functions';\nimport Styled from './color-picker.styles';\nimport ColorItem from './color-item.component';\nvar transparentColor = ['rgba(0,0,0,0)'];\nvar transparentColorHex = '#00000000';\nvar colorsHuesCount = 360;\nvar ColorPicker = intrinsicComponent(function (_ref, ref) {\n  var _ref$defaultColor = _ref.defaultColor,\n      defaultColor = _ref$defaultColor === void 0 ? '#000000' : _ref$defaultColor,\n      onChange = _ref.onChange,\n      _ref$pinnedColors = _ref.pinnedColors,\n      pinnedColors = _ref$pinnedColors === void 0 ? [] : _ref$pinnedColors,\n      _ref$showTransparentC = _ref.showTransparentColor,\n      showTransparentColor = _ref$showTransparentC === void 0 ? false : _ref$showTransparentC,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var showedColors = showTransparentColor ? transparentColor.concat(pinnedColors) : pinnedColors;\n\n  var isTransparentColor = function isTransparentColor(color) {\n    return color === transparentColorHex || color === transparentColor[0];\n  };\n\n  var _useState = useState({\n    color: '#ff0000',\n    pointerLeft: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      bar = _useState2[0],\n      setBar = _useState2[1];\n\n  var _useState3 = useState({\n    color: isTransparentColor(defaultColor) ? '#00000000' : colorToHex(defaultColor) || '#000000',\n    pointer: {\n      left: 0,\n      top: 0\n    }\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rangePicker = _useState4[0],\n      setRangePicker = _useState4[1];\n\n  var _useState5 = useState(showedColors),\n      _useState6 = _slicedToArray(_useState5, 2),\n      localPinnedColors = _useState6[0],\n      setLocalPinnedColors = _useState6[1];\n\n  var _useState7 = useState('hex'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      inputType = _useState8[0],\n      setInputType = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      rgbColorValue = _useState10[0],\n      setRgbColorValue = _useState10[1];\n\n  var _useState11 = useState(colorToHex(rangePicker.color)),\n      _useState12 = _slicedToArray(_useState11, 2),\n      hexInputValue = _useState12[0],\n      setHexInputValue = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      barRef = _useState14[0],\n      setBarRef = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      rangePickerRef = _useState16[0],\n      setRangePickerRef = _useState16[1];\n\n  var isColorChecked = function isColorChecked(checkedColor) {\n    if (checkedColor === transparentColor[0] && rangePicker.color === transparentColorHex) {\n      return true;\n    }\n\n    return checkedColor === rangePicker.color;\n  };\n\n  var filterTransparentColor = function filterTransparentColor(colors) {\n    return colors.filter(function (item) {\n      return item !== 'rgba(0,0,0,0)';\n    });\n  };\n\n  var getRgbColor = function getRgbColor(color) {\n    return isTransparentColor(color) ? transparentColor[0] : \"rgb(\".concat(hexToRgb(color).join(', '), \")\");\n  };\n\n  var handlePinnedColors = function handlePinnedColors(hexColor, type) {\n    if (type === 'add') {\n      var newLocalPinnedColors = [].concat(_toConsumableArray(localPinnedColors), [hexColor]);\n      setLocalPinnedColors(newLocalPinnedColors);\n\n      if (typeof onChange === 'function') {\n        onChange(rangePicker.color, getRgbColor(hexColor), filterTransparentColor(newLocalPinnedColors));\n      }\n    } else {\n      var _newLocalPinnedColors = localPinnedColors.filter(function (item) {\n        return item !== rangePicker.color;\n      });\n\n      setLocalPinnedColors(_newLocalPinnedColors);\n\n      if (typeof onChange === 'function') {\n        onChange(rangePicker.color, getRgbColor(hexColor), filterTransparentColor(_newLocalPinnedColors));\n      }\n    }\n  };\n\n  var changeBarPosByColor = function changeBarPosByColor(color) {\n    if (barRef !== null) {\n      var _ref2 = getElemDocumentCoords(barRef),\n          left = _ref2.left;\n\n      var _colorToHsl = colorToHsl(color || rangePicker.color),\n          _colorToHsl2 = _slicedToArray(_colorToHsl, 1),\n          h = _colorToHsl2[0];\n\n      var targetColorElem = barRef.querySelector(\"[data-hue='\".concat(h, \"']\"));\n\n      if (targetColorElem !== null) {\n        var targetColorRgb = targetColorElem.style.backgroundColor || bar.color;\n        setBar({\n          color: targetColorRgb,\n          pointerLeft: getElemDocumentCoords(targetColorElem).left - left || bar.pointerLeft\n        });\n      }\n    }\n  };\n\n  var handleRgbInput = function handleRgbInput(value, index) {\n    if (value > 255 || Number.isNaN(value)) {\n      return;\n    }\n\n    var rgbArr = rgbColorValue;\n    rgbArr[index] = value;\n    var newHexColor = rgbToHex.apply(void 0, _toConsumableArray(rgbArr));\n    setRgbColorValue(_toConsumableArray(rgbArr));\n\n    if (validateHex(newHexColor)) {\n      setRangePicker(_objectSpread(_objectSpread({}, rangePicker), {}, {\n        color: newHexColor\n      }));\n      changeBarPosByColor(newHexColor);\n    }\n  };\n\n  var updateRgb = function updateRgb(color) {\n    if (color.includes('rgb')) {\n      setRgbColorValue(rgbStringToArray(color));\n    } else {\n      setRgbColorValue(hexToRgb(color));\n    }\n  };\n\n  var getHexColor = function getHexColor(color) {\n    return isTransparentColor(color) ? transparentColorHex : color;\n  };\n\n  var changeRangePickerPointerPosByColor = function changeRangePickerPointerPosByColor(color) {\n    if (rangePickerRef !== null) {\n      var _ref3 = getElemDocumentCoords(rangePickerRef),\n          width = _ref3.width,\n          height = _ref3.height;\n\n      var colorHsl = colorToHsl(color);\n      var colorHsv = hslToHsv(colorHsl[0], colorHsl[1] / 100, colorHsl[2] / 100);\n      var left = mapNumber(colorHsv[1], 0, 100, 0, width);\n      var top = height - mapNumber(colorHsv[2], 0, 100, 0, height);\n      setRangePicker({\n        color: getHexColor(color),\n        pointer: {\n          left: left,\n          top: top\n        }\n      });\n      changeBarPosByColor(color);\n      updateRgb(color);\n\n      if (typeof onChange === 'function') {\n        onChange(getHexColor(color), getRgbColor(color), filterTransparentColor(localPinnedColors));\n      }\n    }\n  };\n\n  var changeRangePickerColorByPosition = function changeRangePickerColorByPosition(left, top, barColor) {\n    if (rangePickerRef !== null) {\n      var _ref4 = getElemDocumentCoords(rangePickerRef),\n          width = _ref4.width,\n          height = _ref4.height;\n\n      var _colorToHsl3 = colorToHsl(barColor),\n          _colorToHsl4 = _slicedToArray(_colorToHsl3, 1),\n          barColorHue = _colorToHsl4[0];\n\n      var restrictedLeft = restrictNumber(left, 0, width) || 0;\n      var restrictedTop = restrictNumber(top, 0, height) || 0;\n      var hsl = hsvToHsl(barColorHue, restrictedLeft / width, (height - restrictedTop) / height);\n      var hexColor = hslToHex(hsl[0], hsl[1], hsl[2]);\n      setRangePicker({\n        color: hexColor,\n        pointer: {\n          left: restrictedLeft,\n          top: restrictedTop\n        }\n      });\n\n      if (typeof onChange === 'function') {\n        onChange(hexColor, \"rgb(\".concat(hexToRgb(hexColor).join(', '), \")\"), filterTransparentColor(localPinnedColors));\n      }\n    }\n  };\n\n  var changeBarColorByPosition = function changeBarColorByPosition(pointerLeft) {\n    var barElem = barRef;\n\n    if (barElem !== null) {\n      var _ref5 = getElemDocumentCoords(barElem),\n          width = _ref5.width;\n\n      var mappedPointerLeft = restrictNumber(Math.round(mapNumber(pointerLeft, 0, width, 0, colorsHuesCount)), 0, colorsHuesCount);\n      var targetColorElem = barElem.querySelector(\"[data-hue='\".concat(mappedPointerLeft, \"']\"));\n      var targetColorRgb = targetColorElem.style.backgroundColor;\n      setBar({\n        color: targetColorRgb,\n        pointerLeft: restrictNumber(pointerLeft, 0, width)\n      });\n      return targetColorRgb;\n    }\n\n    return bar.color;\n  };\n\n  var updateBarColor = function updateBarColor(e) {\n    var barElem = barRef;\n\n    if (barElem !== null) {\n      var _e$touches;\n\n      var _ref6 = getElemDocumentCoords(barElem),\n          left = _ref6.left;\n\n      var pointerEvent = ((_e$touches = e.touches) === null || _e$touches === void 0 ? void 0 : _e$touches[0]) || e;\n      var barColor = changeBarColorByPosition(pointerEvent.pageX - left);\n      changeRangePickerColorByPosition(rangePicker.pointer.left, rangePicker.pointer.top, barColor);\n    }\n  };\n\n  var updateRangePickerColor = function updateRangePickerColor(e) {\n    var rangePickerElem = rangePickerRef;\n\n    if (rangePickerElem !== null) {\n      var _ref7 = getElemDocumentCoords(rangePickerElem),\n          left = _ref7.left,\n          top = _ref7.top,\n          height = _ref7.height,\n          width = _ref7.width;\n\n      var pointerLeft = e ? restrictNumber(e.pageX - left, 0, width) : rangePicker.pointer.left || 0;\n      var pointerTop = e ? restrictNumber(e.pageY - top, 0, height) : rangePicker.pointer.left || 0;\n      changeRangePickerColorByPosition(pointerLeft, pointerTop, bar.color);\n    }\n  };\n\n  var moveBarPointerByArrows = function moveBarPointerByArrows(e) {\n    if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') {\n      return;\n    }\n\n    changeBarColorByPosition(bar.pointerLeft + (e.key === 'ArrowLeft' ? -1 : 1));\n  };\n\n  var moveRangePickerPointerByArrows = function moveRangePickerPointerByArrows(e) {\n    var currentDirection = 0;\n\n    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {\n      currentDirection = -1;\n    } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {\n      currentDirection = 1;\n    }\n\n    if (currentDirection) {\n      changeRangePickerColorByPosition((rangePicker.pointer.left || 0) + (['ArrowLeft', 'ArrowRight'].includes(e.key) ? currentDirection : 0), (rangePicker.pointer.top || 0) + (['ArrowUp', 'ArrowDown'].includes(e.key) ? currentDirection : 0), bar.color);\n    }\n  };\n\n  var validateHexAndUpdate = function validateHexAndUpdate(color) {\n    var testHex = validateHex(color);\n\n    if (testHex) {\n      changeRangePickerPointerPosByColor(color);\n    }\n\n    setHexInputValue(color);\n  };\n\n  useEffect(function () {\n    changeBarPosByColor(rangePicker.color);\n    changeRangePickerPointerPosByColor(rangePicker.color);\n  }, [barRef]);\n  useEffect(function () {\n    setHexInputValue(rangePicker.color);\n    updateRgb(rangePicker.color);\n  }, [rangePicker.color]);\n  var barColors = useMemo(function () {\n    return _toConsumableArray(new Array(colorsHuesCount + 1)).map(function (_, h) {\n      return /*#__PURE__*/React.createElement(Styled.BarColorStop, {\n        key: h,\n        $color: \"hsl(\".concat(h, \", 100%, 50%)\"),\n        \"data-hue\": h\n      });\n    });\n  }, []);\n  var barPointSliding = useDrag(updateBarColor, updateBarColor, null);\n  var rangePickerPointSliding = useDrag(updateRangePickerColor, updateRangePickerColor, null);\n  return /*#__PURE__*/React.createElement(Styled.ColorPickerWrapper, _extends({\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(Styled.RangePickerWrapper, _extends({\n    ref: setRangePickerRef,\n    color: bar.color\n  }, rangePickerPointSliding), /*#__PURE__*/React.createElement(Styled.WhiteGradient, null), /*#__PURE__*/React.createElement(Styled.BlackGradient, null), /*#__PURE__*/React.createElement(Styled.ColorPointer, {\n    tabIndex: -1,\n    left: rangePicker.pointer.left || 0,\n    top: rangePicker.pointer.top || 0,\n    onKeyDown: moveRangePickerPointerByArrows,\n    considerTopWidth: true\n  })), /*#__PURE__*/React.createElement(Styled.BarWrapper, barPointSliding, /*#__PURE__*/React.createElement(Styled.Bar, {\n    ref: setBarRef\n  }, /*#__PURE__*/React.createElement(\"tbody\", null, /*#__PURE__*/React.createElement(\"tr\", null, barColors))), /*#__PURE__*/React.createElement(Styled.ColorPointer, {\n    tabIndex: -1,\n    left: bar.pointerLeft,\n    onKeyDown: moveBarPointerByArrows,\n    considerTopWidth: false,\n    style: {\n      top: -3\n    }\n  })), /*#__PURE__*/React.createElement(Styled.ColorItemsContainer, null, localPinnedColors.map(function (color) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item\",\n      key: color\n    }, /*#__PURE__*/React.createElement(ColorItem, {\n      value: color,\n      checked: isColorChecked(color),\n      onChange: function onChange(ev) {\n        return changeRangePickerPointerPosByColor(ev.target.value);\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(Styled.ColorPickerAction, null, /*#__PURE__*/React.createElement(Styled.Select, {\n    value: inputType\n  }, /*#__PURE__*/React.createElement(Select, {\n    size: \"sm\",\n    value: inputType,\n    MenuProps: {\n      zIndex: 11112\n    },\n    onChange: function onChange(ev) {\n      return setInputType(ev);\n    },\n    fullWidth: true\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"hex\"\n  }, \"Hex\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"rgb\"\n  }, \"RGB\"))), inputType === 'hex' ? /*#__PURE__*/React.createElement(Input, {\n    size: \"sm\",\n    error: !/^#([\\da-f]{3}){1,2}$/i.test(rangePicker.color),\n    value: hexInputValue,\n    onChange: function onChange(e) {\n      return validateHexAndUpdate(e.target.value);\n    },\n    style: {\n      width: '45%'\n    }\n  }) : rgbColorValue.map(function (rgb, index) {\n    return /*#__PURE__*/React.createElement(Input, {\n      key: index,\n      size: \"sm\",\n      value: rgb,\n      onChange: function onChange(e) {\n        var _e$target;\n\n        return handleRgbInput(Number((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value), index);\n      },\n      style: {\n        width: '20%'\n      }\n    });\n  }), rangePicker.color !== transparentColorHex && /*#__PURE__*/React.createElement(Styled.ColorPickerIcon, {\n    onClick: function onClick() {\n      return localPinnedColors.some(function (checkedColor) {\n        return isColorChecked(checkedColor);\n      }) ? handlePinnedColors(rangePicker.color, 'delete') : handlePinnedColors(rangePicker.color, 'add');\n    }\n  }, localPinnedColors.some(function (checkedColor) {\n    return isColorChecked(checkedColor);\n  }) ? /*#__PURE__*/React.createElement(DeleteOutline, null) : /*#__PURE__*/React.createElement(PinOutline, null))));\n});\nColorPicker.defaultProps = {\n  defaultColor: '#000000',\n  pinnedColors: [],\n  showTransparentColor: false\n};\nColorPicker.propTypes = {\n  defaultColor: PT.string,\n  onChange: PT.func,\n  pinnedColors: PT.array,\n  showTransparentColor: PT.bool\n};\nexport default ColorPicker;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}