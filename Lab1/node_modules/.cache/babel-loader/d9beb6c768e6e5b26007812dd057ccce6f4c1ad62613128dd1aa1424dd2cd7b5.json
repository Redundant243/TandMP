{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"isDesignState\"];\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport { useReducer } from \"react\";\nimport { REDO, RESET, UNDO } from \"../actions\";\nimport extractCurrentDesignState from \"../utils/extractCurrentDesignState\";\nvar timeout,\n  useAppReducer = function (a, b) {\n    var c = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : {},\n      d = _objectSpread(_objectSpread({}, b), {}, {\n        pastDesignStates: [],\n        futureDesignStates: [],\n        hasRedo: !1,\n        hasUndo: !1\n      });\n    return useReducer(function undoRedoResetReducer(b, e) {\n      var f = a(b, e) || d;\n      if ([UNDO, REDO, RESET].includes(e.type)) return f;\n      if (f.isDesignState) {\n        var g = extractCurrentDesignState(b),\n          h = f.isDesignState,\n          i = _objectWithoutProperties(f, _excluded),\n          j = _objectSpread(_objectSpread({}, i), {}, {\n            pastDesignStates: [g].concat(_toConsumableArray(b.pastDesignStates)),\n            hasUndo: !0,\n            hasRedo: !1,\n            futureDesignStates: [],\n            isResetted: !1,\n            haveNotSavedChanges: !0\n          });\n        return timeout = setTimeout(function () {\n          clearTimeout(timeout), \"function\" == typeof c.onModify && c.onModify(j);\n        }), j;\n      }\n      return f;\n    }, d);\n  };\nexport default useAppReducer;","map":{"version":3,"names":["_toConsumableArray","_objectWithoutProperties","_defineProperty","_excluded","ownKeys","a","b","c","Object","keys","getOwnPropertySymbols","d","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","useReducer","REDO","RESET","UNDO","extractCurrentDesignState","timeout","useAppReducer","pastDesignStates","futureDesignStates","hasRedo","hasUndo","undoRedoResetReducer","e","f","includes","type","isDesignState","g","h","i","j","concat","isResetted","haveNotSavedChanges","setTimeout","clearTimeout","onModify"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/react-filerobot-image-editor/lib/hooks/useAppReducer.js"],"sourcesContent":["import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";var _excluded=[\"isDesignState\"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import{useReducer}from\"react\";import{REDO,RESET,UNDO}from\"../actions\";import extractCurrentDesignState from\"../utils/extractCurrentDesignState\";var timeout,useAppReducer=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},d=_objectSpread(_objectSpread({},b),{},{pastDesignStates:[],futureDesignStates:[],hasRedo:!1,hasUndo:!1});return useReducer(function undoRedoResetReducer(b,e){var f=a(b,e)||d;if([UNDO,REDO,RESET].includes(e.type))return f;if(f.isDesignState){var g=extractCurrentDesignState(b),h=f.isDesignState,i=_objectWithoutProperties(f,_excluded),j=_objectSpread(_objectSpread({},i),{},{pastDesignStates:[g].concat(_toConsumableArray(b.pastDesignStates)),hasUndo:!0,hasRedo:!1,futureDesignStates:[],isResetted:!1,haveNotSavedChanges:!0});return timeout=setTimeout(function(){clearTimeout(timeout),\"function\"==typeof c.onModify&&c.onModify(j)}),j}return f},d)};export default useAppReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}