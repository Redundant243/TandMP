{"ast":null,"code":"import React, { memo, useCallback, useEffect, useRef } from \"react\";\nimport { Layer, Image } from \"react-konva\";\nimport { StyledFilterItem, FilterItemPreview, FilterItemLabel } from \"./Filters.styled\";\nvar MAX_FILTER_PREVIEW_WIDTH = 60,\n  MAX_FILTER_PREVIEW_HEIGHT = 45,\n  FilterItem = function (a) {\n    var b = a.filterLabel,\n      c = a.filterFn,\n      d = a.applyFilter,\n      e = a.isActive,\n      f = a.image,\n      g = useRef(),\n      h = useCallback(function () {\n        d(c);\n      }, [c]),\n      i = useCallback(function () {\n        g.current ? g.current.cache() : setTimeout(i, 0);\n      }, []);\n    useEffect(function () {\n      return f && i(), function () {\n        var a;\n        null === (a = g.current) || void 0 === a ? void 0 : a.clearCache();\n      };\n    }, [f]);\n    var j = f.width / f.height,\n      k = 1 > j,\n      l = k ? MAX_FILTER_PREVIEW_WIDTH : MAX_FILTER_PREVIEW_HEIGHT * j,\n      m = k ? MAX_FILTER_PREVIEW_WIDTH / j : MAX_FILTER_PREVIEW_HEIGHT;\n    return React.createElement(StyledFilterItem, {\n      className: \"FIE_filters-item\",\n      onClick: h,\n      \"aria-selected\": e\n    }, React.createElement(FilterItemPreview, {\n      className: \"FIE_filters-item-preview\",\n      width: MAX_FILTER_PREVIEW_WIDTH,\n      height: MAX_FILTER_PREVIEW_HEIGHT\n    }, React.createElement(Layer, {\n      onTap: h\n    }, React.createElement(Image, {\n      image: f,\n      filters: c ? [c] : [],\n      width: l,\n      height: m,\n      x: -(l - MAX_FILTER_PREVIEW_WIDTH) / 2,\n      y: -(m - MAX_FILTER_PREVIEW_HEIGHT) / 2,\n      ref: g\n    }))), React.createElement(FilterItemLabel, {\n      className: \"FIE_filters-item-label\"\n    }, b));\n  };\nFilterItem.defaultProps = {\n  filterFn: void 0\n};\nexport default memo(FilterItem);","map":{"version":3,"names":["React","memo","useCallback","useEffect","useRef","Layer","Image","StyledFilterItem","FilterItemPreview","FilterItemLabel","MAX_FILTER_PREVIEW_WIDTH","MAX_FILTER_PREVIEW_HEIGHT","FilterItem","a","b","filterLabel","c","filterFn","d","applyFilter","e","isActive","f","image","g","h","i","current","cache","setTimeout","clearCache","j","width","height","k","l","m","createElement","className","onClick","onTap","filters","x","y","ref","defaultProps"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/react-filerobot-image-editor/lib/components/tools/Filters/FilterItem.js"],"sourcesContent":["import React,{memo,useCallback,useEffect,useRef}from\"react\";import{Layer,Image}from\"react-konva\";import{StyledFilterItem,FilterItemPreview,FilterItemLabel}from\"./Filters.styled\";var MAX_FILTER_PREVIEW_WIDTH=60,MAX_FILTER_PREVIEW_HEIGHT=45,FilterItem=function(a){var b=a.filterLabel,c=a.filterFn,d=a.applyFilter,e=a.isActive,f=a.image,g=useRef(),h=useCallback(function(){d(c)},[c]),i=useCallback(function(){g.current?g.current.cache():setTimeout(i,0)},[]);useEffect(function(){return f&&i(),function(){var a;null===(a=g.current)||void 0===a?void 0:a.clearCache()}},[f]);var j=f.width/f.height,k=1>j,l=k?MAX_FILTER_PREVIEW_WIDTH:MAX_FILTER_PREVIEW_HEIGHT*j,m=k?MAX_FILTER_PREVIEW_WIDTH/j:MAX_FILTER_PREVIEW_HEIGHT;return React.createElement(StyledFilterItem,{className:\"FIE_filters-item\",onClick:h,\"aria-selected\":e},React.createElement(FilterItemPreview,{className:\"FIE_filters-item-preview\",width:MAX_FILTER_PREVIEW_WIDTH,height:MAX_FILTER_PREVIEW_HEIGHT},React.createElement(Layer,{onTap:h},React.createElement(Image,{image:f,filters:c?[c]:[],width:l,height:m,x:-(l-MAX_FILTER_PREVIEW_WIDTH)/2,y:-(m-MAX_FILTER_PREVIEW_HEIGHT)/2,ref:g}))),React.createElement(FilterItemLabel,{className:\"FIE_filters-item-label\"},b))};FilterItem.defaultProps={filterFn:void 0};export default memo(FilterItem);"],"mappings":"AAAA,OAAOA,KAAK,IAAEC,IAAI,EAACC,WAAW,EAACC,SAAS,EAACC,MAAM,QAAK,OAAO;AAAC,SAAOC,KAAK,EAACC,KAAK,QAAK,aAAa;AAAC,SAAOC,gBAAgB,EAACC,iBAAiB,EAACC,eAAe,QAAK,kBAAkB;AAAC,IAAIC,wBAAwB,GAAC,EAAE;EAACC,yBAAyB,GAAC,EAAE;EAACC,UAAU,GAAC,SAAAA,CAASC,CAAC,EAAC;IAAC,IAAIC,CAAC,GAACD,CAAC,CAACE,WAAW;MAACC,CAAC,GAACH,CAAC,CAACI,QAAQ;MAACC,CAAC,GAACL,CAAC,CAACM,WAAW;MAACC,CAAC,GAACP,CAAC,CAACQ,QAAQ;MAACC,CAAC,GAACT,CAAC,CAACU,KAAK;MAACC,CAAC,GAACpB,MAAM,EAAE;MAACqB,CAAC,GAACvB,WAAW,CAAC,YAAU;QAACgB,CAAC,CAACF,CAAC,CAAC;MAAA,CAAC,EAAC,CAACA,CAAC,CAAC,CAAC;MAACU,CAAC,GAACxB,WAAW,CAAC,YAAU;QAACsB,CAAC,CAACG,OAAO,GAACH,CAAC,CAACG,OAAO,CAACC,KAAK,EAAE,GAACC,UAAU,CAACH,CAAC,EAAC,CAAC,CAAC;MAAA,CAAC,EAAC,EAAE,CAAC;IAACvB,SAAS,CAAC,YAAU;MAAC,OAAOmB,CAAC,IAAEI,CAAC,EAAE,EAAC,YAAU;QAAC,IAAIb,CAAC;QAAC,IAAI,MAAIA,CAAC,GAACW,CAAC,CAACG,OAAO,CAAC,IAAE,KAAK,CAAC,KAAGd,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAACiB,UAAU,EAAE;MAAA,CAAC;IAAA,CAAC,EAAC,CAACR,CAAC,CAAC,CAAC;IAAC,IAAIS,CAAC,GAACT,CAAC,CAACU,KAAK,GAACV,CAAC,CAACW,MAAM;MAACC,CAAC,GAAC,CAAC,GAACH,CAAC;MAACI,CAAC,GAACD,CAAC,GAACxB,wBAAwB,GAACC,yBAAyB,GAACoB,CAAC;MAACK,CAAC,GAACF,CAAC,GAACxB,wBAAwB,GAACqB,CAAC,GAACpB,yBAAyB;IAAC,OAAOX,KAAK,CAACqC,aAAa,CAAC9B,gBAAgB,EAAC;MAAC+B,SAAS,EAAC,kBAAkB;MAACC,OAAO,EAACd,CAAC;MAAC,eAAe,EAACL;IAAC,CAAC,EAACpB,KAAK,CAACqC,aAAa,CAAC7B,iBAAiB,EAAC;MAAC8B,SAAS,EAAC,0BAA0B;MAACN,KAAK,EAACtB,wBAAwB;MAACuB,MAAM,EAACtB;IAAyB,CAAC,EAACX,KAAK,CAACqC,aAAa,CAAChC,KAAK,EAAC;MAACmC,KAAK,EAACf;IAAC,CAAC,EAACzB,KAAK,CAACqC,aAAa,CAAC/B,KAAK,EAAC;MAACiB,KAAK,EAACD,CAAC;MAACmB,OAAO,EAACzB,CAAC,GAAC,CAACA,CAAC,CAAC,GAAC,EAAE;MAACgB,KAAK,EAACG,CAAC;MAACF,MAAM,EAACG,CAAC;MAACM,CAAC,EAAC,EAAEP,CAAC,GAACzB,wBAAwB,CAAC,GAAC,CAAC;MAACiC,CAAC,EAAC,EAAEP,CAAC,GAACzB,yBAAyB,CAAC,GAAC,CAAC;MAACiC,GAAG,EAACpB;IAAC,CAAC,CAAC,CAAC,CAAC,EAACxB,KAAK,CAACqC,aAAa,CAAC5B,eAAe,EAAC;MAAC6B,SAAS,EAAC;IAAwB,CAAC,EAACxB,CAAC,CAAC,CAAC;EAAA,CAAC;AAACF,UAAU,CAACiC,YAAY,GAAC;EAAC5B,QAAQ,EAAC,KAAK;AAAC,CAAC;AAAC,eAAehB,IAAI,CAACW,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}