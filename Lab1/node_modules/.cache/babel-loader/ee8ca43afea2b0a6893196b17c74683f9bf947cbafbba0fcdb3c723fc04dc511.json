{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport Minus from \"@scaleflex/icons/minus\";\nimport Plus from \"@scaleflex/icons/plus\";\nimport Menu from \"@scaleflex/ui/core/menu\";\nimport MenuItem, { MenuItemLabel } from \"@scaleflex/ui/core/menu-item\";\nimport { ZOOM_CANVAS } from \"../../actions\";\nimport { DEFAULT_ZOOM_FACTOR, TOOLS_IDS } from \"../../utils/constants\";\nimport { useStore } from \"../../hooks\";\nimport getZoomFitFactor from \"../../utils/getZoomFitFactor\";\nimport toPrecisedFloat from \"../../utils/toPrecisedFloat\";\nimport { StyledSmallButton, StyledZoomPercentageLabel } from \"./Topbar.styled\";\nimport { ZOOM_FACTORS_PRESETS } from \"./Topbar.constants\";\nvar MULTIPLY_ZOOM_FACTOR = 1.1,\n  CanvasZooming = function () {\n    var a = useStore(),\n      b = a.dispatch,\n      c = a.zoom,\n      d = void 0 === c ? {} : c,\n      e = a.toolId,\n      f = a.feedback,\n      g = a.t,\n      h = a.shownImageDimensions,\n      i = a.resize,\n      j = a.originalImage,\n      k = a.adjustments.crop,\n      l = a.config.useZoomPresetsMenu,\n      m = 0 === f.duration,\n      n = useState(null),\n      o = _slicedToArray(n, 2),\n      p = o[0],\n      q = o[1],\n      r = function (a) {\n        b({\n          type: ZOOM_CANVAS,\n          payload: {\n            factor: a\n          }\n        });\n      },\n      s = function () {\n        var a = i.width && i.height && i || k.width && k.height && k || h,\n          b = getZoomFitFactor(k.width && k.height && k || h, a);\n        r(b || DEFAULT_ZOOM_FACTOR);\n      },\n      t = function (a) {\n        q(p ? null : a.target);\n      },\n      u = function (a) {\n        if (\"fit\" === a) return s(), void t();\n        var b = Math.min(a * j.width / h.width, a * j.height / h.height);\n        r(b), t();\n      },\n      v = e === TOOLS_IDS.CROP || m,\n      w = !j || i.width || i.height ? d.factor : Math.min(h.width * d.factor / j.width, h.height * d.factor / j.height);\n    return React.createElement(React.Fragment, null, React.createElement(StyledSmallButton, {\n      onClick: function zoomOut() {\n        r(d.factor / MULTIPLY_ZOOM_FACTOR);\n      },\n      color: \"link\",\n      title: g(\"zoomOutTitle\"),\n      disabled: v,\n      className: \"FIE_topbar-zoom-out-btn\"\n    }, React.createElement(Minus, null)), React.createElement(StyledZoomPercentageLabel, {\n      title: g(\"toggleZoomMenuTitle\"),\n      onClick: v ? void 0 : l && t || s,\n      \"aria-disabled\": v,\n      className: \"FIE_topbar-zoom-label\"\n    }, \"\".concat(toPrecisedFloat(100 * w, 0), \"%\")), React.createElement(StyledSmallButton, {\n      onClick: function zoomIn() {\n        r(d.factor * MULTIPLY_ZOOM_FACTOR);\n      },\n      color: \"link\",\n      title: g(\"zoomInTitle\"),\n      disabled: v,\n      className: \"FIE_topbar-zoom-in-btn\"\n    }, React.createElement(Plus, null)), React.createElement(Menu, {\n      anchorEl: p,\n      onClose: t,\n      open: !!p,\n      position: \"bottom\",\n      className: \"FIE_topbar-zoom-menu\"\n    }, ZOOM_FACTORS_PRESETS.map(function (a) {\n      var b = a.factor,\n        c = a.labelKey,\n        d = a.label;\n      return React.createElement(MenuItem, {\n        key: d || c,\n        onClick: function onClick() {\n          return u(b);\n        }\n      }, React.createElement(MenuItemLabel, null, null !== d && void 0 !== d ? d : g(c)));\n    })));\n  };\nexport default CanvasZooming;","map":{"version":3,"names":["_slicedToArray","React","useState","Minus","Plus","Menu","MenuItem","MenuItemLabel","ZOOM_CANVAS","DEFAULT_ZOOM_FACTOR","TOOLS_IDS","useStore","getZoomFitFactor","toPrecisedFloat","StyledSmallButton","StyledZoomPercentageLabel","ZOOM_FACTORS_PRESETS","MULTIPLY_ZOOM_FACTOR","CanvasZooming","a","b","dispatch","c","zoom","d","e","toolId","f","feedback","g","t","h","shownImageDimensions","i","resize","j","originalImage","k","adjustments","crop","l","config","useZoomPresetsMenu","m","duration","n","o","p","q","r","type","payload","factor","s","width","height","target","u","Math","min","v","CROP","w","createElement","Fragment","onClick","zoomOut","color","title","disabled","className","concat","zoomIn","anchorEl","onClose","open","position","map","labelKey","label","key"],"sources":["/home/redundunt/WebstormProjects/untitled/node_modules/react-filerobot-image-editor/lib/components/Topbar/CanvasZooming.js"],"sourcesContent":["import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from\"react\";import Minus from\"@scaleflex/icons/minus\";import Plus from\"@scaleflex/icons/plus\";import Menu from\"@scaleflex/ui/core/menu\";import MenuItem,{MenuItemLabel}from\"@scaleflex/ui/core/menu-item\";import{ZOOM_CANVAS}from\"../../actions\";import{DEFAULT_ZOOM_FACTOR,TOOLS_IDS}from\"../../utils/constants\";import{useStore}from\"../../hooks\";import getZoomFitFactor from\"../../utils/getZoomFitFactor\";import toPrecisedFloat from\"../../utils/toPrecisedFloat\";import{StyledSmallButton,StyledZoomPercentageLabel}from\"./Topbar.styled\";import{ZOOM_FACTORS_PRESETS}from\"./Topbar.constants\";var MULTIPLY_ZOOM_FACTOR=1.1,CanvasZooming=function(){var a=useStore(),b=a.dispatch,c=a.zoom,d=void 0===c?{}:c,e=a.toolId,f=a.feedback,g=a.t,h=a.shownImageDimensions,i=a.resize,j=a.originalImage,k=a.adjustments.crop,l=a.config.useZoomPresetsMenu,m=0===f.duration,n=useState(null),o=_slicedToArray(n,2),p=o[0],q=o[1],r=function(a){b({type:ZOOM_CANVAS,payload:{factor:a}})},s=function(){var a=i.width&&i.height&&i||k.width&&k.height&&k||h,b=getZoomFitFactor(k.width&&k.height&&k||h,a);r(b||DEFAULT_ZOOM_FACTOR)},t=function(a){q(p?null:a.target)},u=function(a){if(\"fit\"===a)return s(),void t();var b=Math.min(a*j.width/h.width,a*j.height/h.height);r(b),t()},v=e===TOOLS_IDS.CROP||m,w=!j||i.width||i.height?d.factor:Math.min(h.width*d.factor/j.width,h.height*d.factor/j.height);return React.createElement(React.Fragment,null,React.createElement(StyledSmallButton,{onClick:function zoomOut(){r(d.factor/MULTIPLY_ZOOM_FACTOR)},color:\"link\",title:g(\"zoomOutTitle\"),disabled:v,className:\"FIE_topbar-zoom-out-btn\"},React.createElement(Minus,null)),React.createElement(StyledZoomPercentageLabel,{title:g(\"toggleZoomMenuTitle\"),onClick:v?void 0:l&&t||s,\"aria-disabled\":v,className:\"FIE_topbar-zoom-label\"},\"\".concat(toPrecisedFloat(100*w,0),\"%\")),React.createElement(StyledSmallButton,{onClick:function zoomIn(){r(d.factor*MULTIPLY_ZOOM_FACTOR)},color:\"link\",title:g(\"zoomInTitle\"),disabled:v,className:\"FIE_topbar-zoom-in-btn\"},React.createElement(Plus,null)),React.createElement(Menu,{anchorEl:p,onClose:t,open:!!p,position:\"bottom\",className:\"FIE_topbar-zoom-menu\"},ZOOM_FACTORS_PRESETS.map(function(a){var b=a.factor,c=a.labelKey,d=a.label;return React.createElement(MenuItem,{key:d||c,onClick:function onClick(){return u(b)}},React.createElement(MenuItemLabel,null,null!==d&&void 0!==d?d:g(c)))})))};export default CanvasZooming;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}